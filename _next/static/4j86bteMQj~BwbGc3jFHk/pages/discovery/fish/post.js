(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{149:function(e,a,t){"use strict";t.d(a,"b",function(){return l}),t.d(a,"a",function(){return r});var l={video:1,image:2,article:3},r=[{label:"鱼竿",value:"36",children:[{label:"天弧斩月刀-鲤(黑金进取版)",value:"922",parId:"36"},{label:"天弧斩月刀-鲤(黑白精英版)",value:"923",parId:"36"},{label:"神鹤轻强硬",value:"208",parId:"36"},{label:"神鹤战斗极",value:"792",parId:"36"},{label:"金迦潘求败",value:"211",parId:"36"},{label:"金迦潘引领",value:"212",parId:"36"},{label:"金迦潘硬弓",value:"210",parId:"36"},{label:"金迦潘强弓",value:"209",parId:"36"},{label:"桃园财神终极版",value:"215",parId:"36"},{label:"彪悍黑坑技5H6H7H",value:"803",parId:"36"},{label:"神乐暴强硬",value:"237",parId:"36"},{label:"棍王硬弓强弓",value:"374",parId:"36"},{label:"财神超硬调",value:"219",parId:"36"},{label:"大显神通普惠版",value:"575",parId:"36"},{label:"大显神通超硬",value:"239",parId:"36"},{label:"大显神通鲫硬版",value:"241",parId:"36"},{label:"潇裟狂强弩",value:"257",parId:"36"},{label:"老首长系列长竿",value:"382",parId:"36"},{label:"爆草所长版",value:"371",parId:"36"},{label:"洪发山巨物",value:"364",parId:"36"},{label:"财神超硬调纪念版",value:"362",parId:"36"},{label:"千鹤超硬调",value:"359",parId:"36"},{label:"红花金棍吴郭版",value:"357",parId:"36"},{label:"神武鲤硬调",value:"351",parId:"36"},{label:"恶棍",value:"327",parId:"36"},{label:"恶霸之暴强",value:"325",parId:"36"},{label:"红环黑棍【战斗】",value:"324",parId:"36"},{label:"鬼斧神工",value:"322",parId:"36"},{label:"洪发山鲤硬调纪念版",value:"310",parId:"36"},{label:"刚厉特作大物",value:"307",parId:"36"},{label:"大黑脘",value:"300",parId:"36"},{label:"洪发山强弓",value:"299",parId:"36"},{label:"洪发山硬作",value:"298",parId:"36"},{label:"洪发山大物",value:"297",parId:"36"},{label:"福山",value:"296",parId:"36"},{label:"洪发山硬弓",value:"295",parId:"36"},{label:"有乐町劲功",value:"294",parId:"36"},{label:"胜北浪强弓",value:"293",parId:"36"},{label:"傲江雪特作",value:"292",parId:"36"},{label:"神武巨物鲤",value:"291",parId:"36"},{label:"大武生鲤",value:"290",parId:"36"},{label:"财神之神乐",value:"268",parId:"36"},{label:"财神黄金八万",value:"267",parId:"36"},{label:"弩火天尊（硬）",value:"266",parId:"36"},{label:"火舞",value:"265",parId:"36"},{label:"彪悍特作大物",value:"264",parId:"36"},{label:"宫本武藏鲤",value:"263",parId:"36"},{label:"刚厉特作",value:"262",parId:"36"},{label:"柴舟",value:"261",parId:"36"},{label:"神鹤巨物鲤",value:"260",parId:"36"},{label:"红缨枪鲤硬调",value:"259",parId:"36"},{label:"爆草青鲟版",value:"258",parId:"36"},{label:"财神鲤硬调",value:"256",parId:"36"},{label:"财神鲤硬调五周年",value:"255",parId:"36"},{label:"魔裟斗强弓",value:"254",parId:"36"},{label:"咏春轻细硬",value:"253",parId:"36"},{label:"弩火天尊战斗",value:"252",parId:"36"},{label:"如来终极版",value:"251",parId:"36"},{label:"大门裸棍轻量版",value:"250",parId:"36"},{label:"代官山",value:"249",parId:"36"},{label:"大门裸棍常规版",value:"248",parId:"36"},{label:"洪发山轻细硬",value:"247",parId:"36"},{label:"咏春并继",value:"246",parId:"36"},{label:"炎之鲫硬调",value:"245",parId:"36"},{label:"贺春鲫硬调",value:"244",parId:"36"},{label:"财神轻细硬",value:"243",parId:"36"},{label:"东势鲫硬调",value:"242",parId:"36"},{label:"恶棍-欺硬怕软",value:"240",parId:"36"},{label:"爆草加强版",value:"238",parId:"36"},{label:"爆草定制版",value:"236",parId:"36"},{label:"魔裟斗综合金版花纹",value:"235",parId:"36"},{label:"财神竞技",value:"234",parId:"36"},{label:"神乎其技",value:"233",parId:"36"},{label:"彪悍",value:"232",parId:"36"},{label:"财神吴郭版",value:"231",parId:"36"},{label:"大门羽川丽",value:"230",parId:"36"},{label:"宗师经典硬作",value:"229",parId:"36"},{label:"宗师",value:"228",parId:"36"},{label:"池霸竞技吴郭版7H",value:"226",parId:"36"},{label:"池霸竞技仁",value:"224",parId:"36"},{label:"神棍超硬调",value:"223",parId:"36"},{label:"竞鲫钓鱼学院纪念版",value:"222",parId:"36"},{label:"竞鲫超硬调",value:"221",parId:"36"},{label:"傲江雪并继鲤调子",value:"220",parId:"36"},{label:"汀神青鲟轻硬大物",value:"218",parId:"36"},{label:"汀神限量版",value:"217",parId:"36"},{label:"汀神轻硬大物",value:"216",parId:"36"},{label:"宫本武藏大师版",value:"214",parId:"36"},{label:"银棍",value:"213",parId:"36"}]},{label:"鱼饵",value:"38",children:[{label:"一正宗拉爆鱼饵",value:"810",parId:"38"},{label:"印第安绿水",value:"303",parId:"38"},{label:"印第安绿水VIP版，绿水VIP礼盒版",value:"304",parId:"38"},{label:"一正宗拉爆红鱼饵",value:"577",parId:"38"},{label:"拉爆阿魏",value:"305",parId:"38"},{label:"一正宗冷冻饵",value:"302",parId:"38"},{label:"一正宗迷魂散",value:"301",parId:"38"},{label:"一正宗黄面面",value:"289",parId:"38"},{label:"一正宗鱼饵",value:"288",parId:"38"}]},{label:"鱼线",value:"37",children:[{label:"乐牌鱼线常规版彩乐",value:"828",parId:"37"},{label:"乐牌鱼线经典版彩乐",value:"335",parId:"37"},{label:"乐牌鱼线水藻线",value:"337",parId:"37"},{label:"乐牌鱼线经典版黑乐",value:"340",parId:"37"},{label:"乐牌鱼线金版黑乐",value:"344",parId:"37"},{label:"乐牌鱼线金乐",value:"343",parId:"37"},{label:"乐牌鱼线大美人",value:"341",parId:"37"},{label:"乐牌鱼线合乐",value:"346",parId:"37"},{label:"乐牌鱼线魔幻变色线隐乐",value:"345",parId:"37"},{label:"乐牌鱼线白乐",value:"350",parId:"37"},{label:"乐牌鱼线线组绑匪",value:"347",parId:"37"},{label:"竞技仕挂串钩子线组套装",value:"578",parId:"37"},{label:"乐牌大力马防咬线彩色8编",value:"349",parId:"37"},{label:"乐牌大力马防咬线灰色8编4编",value:"348",parId:"37"}]},{label:"鱼漂",value:"40",children:[{label:"神鹤巴纳浮漂系列",value:"896",parId:"40"},{label:"神鹤竞技芦苇漂",value:"859",parId:"40"},{label:"顶风巴尔衫木系列浮漂",value:"339",parId:"40"},{label:"顶风纳米浮漂系列",value:"342",parId:"40"},{label:"顶风巴纳漂系列",value:"338",parId:"40"},{label:"千鹤纳米浮漂01-07系列",value:"361",parId:"40"},{label:"千鹤纳米浮漂08-15系列",value:"365",parId:"40"},{label:"夜光漂水无影电子漂",value:"334",parId:"40"},{label:"神鹤孔雀羽浮漂",value:"354",parId:"40"},{label:"神鹤竞技漂尊贵版",value:"353",parId:"40"},{label:"纪念版鱼霸漂",value:"336",parId:"40"},{label:"亚野渔夫孔雀羽毛浮漂",value:"360",parId:"40"},{label:"亚野渔夫纳米渔漂",value:"358",parId:"40"},{label:"亚野渔夫芦苇浮漂",value:"356",parId:"40"},{label:"亚野渔夫大物漂",value:"355",parId:"40"},{label:"神鹤竞技漂典雅版 ",value:"352",parId:"40"},{label:"大师版漂盒",value:"281",parId:"40"}]},{label:"装备",value:"49",children:[{label:"18年年度巨献品质钓伞",value:"805",parId:"49"},{label:"2018新款钓箱",value:"804",parId:"49"},{label:"竞技仕挂串钩子线组套装",value:"578",parId:"49"},{label:"古烈钓鱼包",value:"576",parId:"49"},{label:"多功能钓鱼拉杆箱",value:"395",parId:"49"},{label:"手工编织龙珠鱼护",value:"386",parId:"49"},{label:"轻量版大师钓鱼包",value:"385",parId:"49"},{label:"竹烟波月竿挂支架",value:"287",parId:"49"},{label:"藤原手作支架",value:"286",parId:"49"},{label:"大师钓鱼包",value:"285",parId:"49"},{label:"大师版鱼护",value:"284",parId:"49"},{label:"大师版钓鱼椅",value:"280",parId:"49"},{label:"巨星版双层钓鱼伞",value:"279",parId:"49"},{label:"大师版钓伞单双层",value:"278",parId:"49"},{label:"母夜叉防水钓鱼灯",value:"276",parId:"49"},{label:"大师版钓鱼灯",value:"275",parId:"49"},{label:"大师版经典钓箱",value:"274",parId:"49"},{label:"大师版黄金台钓箱",value:"273",parId:"49"},{label:"神农树藤网头",value:"272",parId:"49"},{label:"藤原手作网头",value:"271",parId:"49"},{label:"竹烟波月玉柄",value:"270",parId:"49"},{label:"藤原手作力抄",value:"269",parId:"49"}]},{label:"服饰",value:"51",children:[{label:"健将钓鱼服",value:"827",parId:"51"},{label:"夏季户外钓鱼防晒服【精简版】",value:"308",parId:"51"},{label:"黄金甲钓鱼服",value:"313",parId:"51"},{label:"冰丝袖套头套",value:"320",parId:"51"},{label:"篮网钓鱼服",value:"311",parId:"51"},{label:"先锋版钓鱼服",value:"309",parId:"51"},{label:"迷彩钓鱼服",value:"315",parId:"51"},{label:"大师版钓鱼裤",value:"318",parId:"51"},{label:"大师版钓鱼帽",value:"277",parId:"51"},{label:"学院T恤",value:"316",parId:"51"},{label:"垂钓休闲帽",value:"785",parId:"51"},{label:"防水保暖钓鱼手套",value:"387",parId:"51"},{label:"秋冬户外夹克外套",value:"332",parId:"51"},{label:"户外休闲加长棉衣",value:"331",parId:"51"},{label:"秋冬运动休闲服",value:"330",parId:"51"},{label:"户外休闲棉衣",value:"329",parId:"51"},{label:"呢子加长外套",value:"328",parId:"51"},{label:"战狼冲锋衣",value:"326",parId:"51"},{label:"战狼迷彩裤",value:"323",parId:"51"},{label:"户外休闲秋冬帽",value:"321",parId:"51"},{label:"户外休闲裤",value:"319",parId:"51"},{label:"大师版T恤POP衫",value:"317",parId:"51"},{label:"定制版钓鱼服",value:"314",parId:"51"},{label:"经典版钓鱼服",value:"312",parId:"51"},{label:"夏季户外钓鱼防晒服【舒适版】",value:"306",parId:"51"},{label:"五合一钓鱼眼镜",value:"283",parId:"51"},{label:"大师版钓鱼眼镜",value:"282",parId:"51"}]},{label:"配件",value:"50",children:[{label:"手把缠绕带吸汗带龙骨止汗带",value:"579",parId:"50"},{label:"竞技仕挂串钩子线组套装",value:"578",parId:"50"},{label:"刻度铅",value:"384",parId:"50"},{label:"竞技太空豆小配件套装",value:"383",parId:"50"},{label:"紫竹根脱钩器",value:"379",parId:"50"},{label:"钛合金竞技脱钩器",value:"378",parId:"50"},{label:"细铅皮座渔具小配件",value:"377",parId:"50"},{label:"垂钓配件套餐",value:"376",parId:"50"},{label:"竞技浮漂座",value:"375",parId:"50"},{label:"6+1竞技太空豆",value:"373",parId:"50"},{label:"五合一小配件",value:"372",parId:"50"},{label:"八字环连接器",value:"370",parId:"50"},{label:" 原胶黑色橄榄圆柱形 太空豆",value:"369",parId:"50"},{label:"优质铜头旋转漂座",value:"368",parId:"50"},{label:"蛇腹新关东鱼钩",value:"367",parId:"50"},{label:"雷鬼伊势尼鱼钩",value:"366",parId:"50"}]}]},51:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=s(t(16)),r=s(t(21)),n=s(t(18)),o=s(t(19)),i=s(t(17)),u=s(t(20)),c=s(t(8)),p=s(t(1));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function a(){return(0,n.default)(this,a),(0,i.default)(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return(0,u.default)(a,e),(0,o.default)(a,[{key:"componentWillReceiveProps",value:function(){this.noAppearTransition=!0}},{key:"componentDidMount",value:function(){var e=this;this.props.appearTransition&&setTimeout(function(){e.barRef&&(e.barRef.style.width=e.props.percent+"%")},10)}},{key:"render",value:function(){var e,a=this,t=this.props,n=t.className,o=t.prefixCls,i=t.position,u=t.unfilled,s=t.style,d=void 0===s?{}:s,b=t.barStyle,v=void 0===b?{}:b,f={width:this.noAppearTransition||!this.props.appearTransition?this.props.percent+"%":0,height:0},m=(0,c.default)(o+"-outer",n,(e={},(0,r.default)(e,o+"-fixed-outer","fixed"===i),(0,r.default)(e,o+"-hide-outer",!u),e));return p.default.createElement("div",{style:d,className:m,role:"progressbar","aria-valuenow":this.props.percent,"aria-valuemin":0,"aria-valuemax":100},p.default.createElement("div",{ref:function(e){return a.barRef=e},className:o+"-bar",style:(0,l.default)({},v,f)}))}}]),a}(p.default.Component);a.default=d,d.defaultProps={prefixCls:"am-progress",percent:0,position:"fixed",unfilled:!0,appearTransition:!1},e.exports=a.default},829:function(e,a,t){__NEXT_REGISTER_PAGE("/discovery/fish/post",function(){return e.exports=t(963),{page:e.exports.default}})},963:function(e,a,t){"use strict";t.r(a);var l=t(1),r=t.n(l),n=t(6),o=t.n(n),i=t(5),u=t(3),c=t(10),p=t(7),s=t(2),d=t.n(s),b=t(8),v=t.n(b),f=t(0),m=function(e,a){var t=a.$,l=e.className,n=t.getState("_textarea");return r.a.createElement("div",{className:d.a.dynamic([["4162908378",[f.a.color_theme]]])+" "+(v()("style-205166",l)||"")},r.a.createElement(u.E,{placeholder:"说点什么吧...",autoHeight:!0,clear:!0,rows:4,count:200,value:n,onChange:function(e){return t.setState(e,"_textarea")}}),r.a.createElement(d.a,{styleId:"4162908378",css:".style-205166.__jsx-style-dynamic-selector{padding:0 0.16rem;background:".concat(f.a.color_theme,";}"),dynamic:[f.a.color_theme]}))};m.contextTypes={$:o.a.object};var y=Object(i.d)(m),I=t(4),h=function(e,a){var t=a.$,l=e.index,n=e.targetPath,o=e.name,i=e.fileId,c=e.className;return r.a.createElement("div",{style:{backgroundImage:"url(".concat(I.a.getAppImgUrl(i||"".concat(n,"/").concat(o)),")")},className:d.a.dynamic([["1690758342",[f.a._bg,f.a.border,f.a.radius_sm,"style-780157"]]])+" "+(v()("style-780157",c)||"")},r.a.createElement(u.p,{className:"".concat("style-780157","__clear t-24 t-void"),type:"cross",onClick:function(){return t.page.delete(l)}}),r.a.createElement(d.a,{styleId:"1690758342",css:".style-780157{display:inline-block;vertical-align:top;position:relative;width:1.96rem;height:1.96rem;margin:0 0.24rem 0.24rem 0;".concat(f.a._bg,";border:").concat(f.a.border,";border-radius:").concat(f.a.radius_sm,";overflow:hidden;}.").concat("style-780157","__clear{position:absolute;top:0.08rem;right:0.08rem;padding:0.08rem;background:rgba(0,0,0,0.48);border-radius:50%;}"),dynamic:[f.a._bg,f.a.border,f.a.radius_sm,"style-780157"]}))};h.contextTypes={$:o.a.object};var g=Object(i.d)(h),_=function(e,a){var t=a.$,l=e.targetPath,n=e.surface,o=e.size,i=e.className;return r.a.createElement("div",{className:v()("style-384448",i)},r.a.createElement(u.G,{src:l,poster:I.a.getImgUrl(n),fileSize:o,playSecond:e.play_time,placeholderPublish:!0}),r.a.createElement(u.c,{className:"mt-md",type:"primary",ghost:!0,onClick:t.page.delete},"删除视频"))};_.contextTypes={$:o.a.object};var E,w,S,x=Object(i.d)(_),k=t(14),j=t.n(k),O=t(111),P=t.n(O),N=t(9),T=t.n(N);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,a,t,l,r,n,o){try{var i=e[n](o),u=i.value}catch(e){return void t(e)}i.done?a(u):Promise.resolve(u).then(l,r)}function C(e){return function(){var a=this,t=arguments;return new Promise(function(l,r){var n=e.apply(a,t);function o(e){$(n,l,r,o,i,"next",e)}function i(e){$(n,l,r,o,i,"throw",e)}o(void 0)})}}function A(e,a){for(var t=0;t<a.length;t++){var l=a[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function q(e,a){return!a||"object"!==z(a)&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):a}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,a){return(M=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}var K="".concat("style-264118","__upload-image"),R="".concat("style-264118","__upload-video"),F=Object(i.d)((S=w=function(e){function a(){var e,t;!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return(t=q(this,(e=U(a)).call.apply(e,[this].concat(r)))).onUploadClick=function(){var e=t.context.$.getState("_media").type;e?"image"===e&&document.querySelector(".".concat(K," > input")).click():I.a.actionSheet(["照片","视频"],function(e){0===e?document.querySelector(".".concat(K," > input")).click():1===e&&t.uploadVideo()},{destructiveButtonIndex:void 0})},t.uploadVideo=C(T.a.mark(function e(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.context.$.fetch.qiniuKey(),document.querySelector(".".concat(R," > input")).click();case 3:case"end":return e.stop()}},e,this)})),t.beforeUploadImage=function(e){var a=t.context.$,l=a.getState("_media"),r=l.files,n=l.type;e.size/1024/1024>10?I.a.light("图片不能超过10M"):"image"===n&&r.length>=9?I.a.light("图片最多只能上传9个"):a.setState({type:"image"},"_media")},t.beforeUploadVideo=function(e){var a=t.context.$,l=a.getState("_media"),r=l.files,n=l.type;e.size/1024/1024>50?I.a.light("视频不能超过50M"):"video"===n&&r.length>=1?I.a.light("视频最多只能上传1个"):a.setState({type:"video"},"_media")},t}var t,l,n;return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&M(e,a)}(a,r.a.Component),t=a,(l=[{key:"render",value:function(){var e=this.context.$,a=e.getState("_media"),t=a.files,l=a.type,n=a.uploading,o=e.getState("qiniuFileKey"),i=this.props.className;return"video"===l&&t.length>=1||"image"===l&&t.length>=9?null:r.a.createElement("div",{className:d.a.dynamic([["1922550434",["style-264118",f.a.radius_sm]]])+" "+(v()("style-264118",i)||"")},r.a.createElement(j.a,{className:"".concat("style-264118","__item"),justify:"center",onClick:n?void 0:this.onUploadClick},n?r.a.createElement(P.a,{size:"large"}):r.a.createElement(u.p,{className:"t-48",type:"plus"})),r.a.createElement(u.F,{className:"".concat("style-264118","__upload-image"),disabled:n,beforeUpload:this.beforeUploadImage,style:{display:"none"},onProgress:e.page.uploadProgress,onSuccess:e.page.imageUploadSuccess,onError:e.page.uploadError}),r.a.createElement(u.F,{className:"".concat("style-264118","__upload-video"),qiniu:!0,qiniuFileKey:o,accept:"video/mp4,video/quicktime,video/*",disabled:n,beforeUpload:this.beforeUploadVideo,style:{display:"none"},onProgress:e.page.uploadProgress,onSuccess:e.page.videoUploadSuccess}),r.a.createElement(d.a,{styleId:"1922550434",css:".style-264118{display:inline-block;vertical-align:top;width:1.96rem;height:1.96rem;overflow:hidden;}.".concat("style-264118","__item{vertical-align:top;width:1.96rem;height:1.96rem;margin:0 0.24rem 0.24rem 0;border:0.02rem dashed #9b9b9b;border-radius:").concat(f.a.radius_sm,";}"),dynamic:["style-264118",f.a.radius_sm]}))}}])&&A(t.prototype,l),n&&A(t,n),a}(),w.contextTypes={$:o.a.object},E=S))||E,W=t(51),G=t.n(W),V=function(e,a){var t=a.$,l=e.className,n=t.getState("_media"),o=n.percent,i=n.size;return o?r.a.createElement("div",{className:v()("style-187147",l)},r.a.createElement(G.a,{percent:o,position:"normal"}),r.a.createElement("p",{className:"t-28 t-sub t-c mt-16"},r.a.createElement("span",null,"正在上传..."),r.a.createElement("span",{className:"ml-xs"},o,"%"),r.a.createElement("span",{className:"ml-xs"},"(",I.a.getMB(i*(o/100)),"MB/",I.a.getMB(i),"MB)"))):null};V.contextTypes={$:o.a.object};var B=Object(i.d)(V);function H(){return(H=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e}).apply(this,arguments)}var J=function(e,a){var t=a.$,l=e.className,n=t.getState("_media"),o=n.type,i=n.files;return r.a.createElement("div",{className:d.a.dynamic([["3704221376",[f.a.wind,f.a.color_theme]]])+" "+(v()("style-117881",l)||"")},"image"===o&&i.map(function(e,a){return r.a.createElement(g,H({key:"".concat(e.targetPath,"/").concat(e.name),index:a},e))}),"video"===o&&i.map(function(e){return r.a.createElement(x,H({key:e.name},e))}),r.a.createElement(F,null),r.a.createElement(B,{className:"mt-md"}),r.a.createElement(d.a,{styleId:"3704221376",css:".style-117881.__jsx-style-dynamic-selector{padding:0.24rem ".concat(f.a.wind,";background:").concat(f.a.color_theme,";}"),dynamic:[f.a.wind,f.a.color_theme]}))};J.contextTypes={$:o.a.object};var D=Object(i.d)(J),L=function(e,a){var t=a.$,l=e.form,n=e.className,o=t.getState("goods");return r.a.createElement(u.m,{className:v()("style-655742",n),form:l,renderFooter:function(){return r.a.createElement("p",{className:d.a.dynamic([["3505302955",["style-655742"]]])+" t-24 t-sub"},"单尾最重和渔获总重至少填一项，分享服装靓照可不填渔获")}},r.a.createElement(u.m.Picker,{prefixCls:"".concat("style-655742","__picker am-picker"),label:r.a.createElement(u.p,{className:"t-34",type:"select"}),name:"goods",data:o,cols:2,placeholder:"请选择产品名称"}),r.a.createElement(u.m.Input,{label:r.a.createElement(u.p,{className:"t-34 t-title",type:"location"}),name:"fishArea",placeholder:"请输入所在区或城镇",updatePlaceholder:!1}),r.a.createElement(u.m.Input,{label:r.a.createElement(u.p,{className:"t-34 t-title",type:"hook"}),name:"fishKind",placeholder:"请输入渔获种类",updatePlaceholder:!1}),r.a.createElement(u.m.MoneyInput,{label:r.a.createElement(u.p,{className:"t-34 t-title",type:"fish"}),name:"fishWeight",extra:"斤",placeholder:"请输入单尾最大重量",updatePlaceholder:!1}),r.a.createElement(u.m.MoneyInput,{label:r.a.createElement(u.p,{className:"t-34 t-title",type:"basket"}),name:"fishTotalWeight",extra:"斤",placeholder:"请输入渔获总重量",updatePlaceholder:!1}),r.a.createElement(d.a,{styleId:"3505302955",css:".".concat("style-655742","__picker .am-picker-col+.am-picker-col{-webkit-flex:2.4 1 0% !important;-ms-flex:2.4 1 0% !important;flex:2.4 1 0% !important;}"),dynamic:["style-655742"]}))};L.contextTypes={$:o.a.object};var X,Y,Q=Object(i.d)(L),Z=t(11),ee=t(12),ae=t(15),te=t(149);function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e){return function(e){if(Array.isArray(e)){for(var a=0,t=new Array(e.length);a<e.length;a++)t[a]=e[a];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ne(e,a,t,l,r,n,o){try{var i=e[n](o),u=i.value}catch(e){return void t(e)}i.done?a(u):Promise.resolve(u).then(l,r)}function oe(e){return function(){var a=this,t=arguments;return new Promise(function(l,r){var n=e.apply(a,t);function o(e){ne(n,l,r,o,i,"next",e)}function i(e){ne(n,l,r,o,i,"throw",e)}o(void 0)})}}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,a){return(ue=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var pe,se,de,be,ve,fe,me,ye,Ie,he=(X=function(e){function a(){var e,t,l,r,n,o,i,u,c,p,s;!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a);for(var d=arguments.length,b=new Array(d),v=0;v<d;v++)b[v]=arguments[v];return l=this,r=(e=ie(a)).call.apply(e,[this].concat(b)),t=!r||"object"!==le(r)&&"function"!=typeof r?ce(l):r,n=t,o="state",i=Y,u=ce(ce(t)),i&&Object.defineProperty(n,o,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(u):void 0}),t.fetch={config:{one:["specialGoods"]},qiniuKey:(c=oe(T.a.mark(function e(){var a,l;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=ae.a.P("get_qiniu_key"),e.next=3,a;case 3:return l=e.sent,t.setState({qiniuFileKey:l}),e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)}),specialGoods:function(){return t.fetchThenSetState("get_shop_special-goods","specialGoods")}},t.do={publish:(p=oe(T.a.mark(function e(a){var l,r,n,o,i,u,c,p,s,d,b,v,f,m;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=t.getState("_media"),r=l.files,n=l.type,o=t.getState("_textarea"),i=t.getState("goods"),-1===String(a.goods).indexOf("51,")){e.next=9;break}if(a.fishArea){e.next=7;break}return I.a.light("请填写地区"),e.abrupt("return");case 7:e.next=15;break;case 9:if(a.goods&&a.fishKind&&a.fishArea){e.next=12;break}return I.a.light("请先完善渔获信息"),e.abrupt("return");case 12:if(a.fishWeight||a.fishTotalWeight){e.next=15;break}return I.a.light("单尾最重和渔获总重至少需填一项"),e.abrupt("return");case 15:if(o){e.next=18;break}return I.a.light("请完善详细描述"),e.abrupt("return");case 18:if(r.length){e.next=21;break}return I.a.light("请添加图片或视频"),e.abrupt("return");case 21:return u=a.goods.split(","),c=u[0],p=u[1],20,s=c,d=p,i.forEach(function(e){e.value==u[0]&&e.children.forEach(function(e){e.value==u[1]&&(b=e.label)})}),v={tit:"".concat(b,"|").concat(a.fishArea,"|").concat(a.fishKind,"|").concat(a.fishWeight,"|").concat(a.fishTotalWeight),weight:a.fishWeight,dtsourceType:20,dtsourceCategory:s,dtsourceId:d,con:o,infoType:te.b[n],fileIds:r.map(function(e){return e.fileId}).join(",")},e.next=31,ae.a.P("do_publish",v);case 31:f=e.sent,m=f.point,t.page.reset(),I.a.light("发布成功，积分+".concat(m)),I.a.router.replace("/discovery/fish?id=".concat(s,"&gid=").concat(d),"/discovery/fish/".concat(s,"/").concat(d));case 36:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},t.page={uploadProgress:function(e,a){var l=Math.round(e.percent);t.setState({uploading:!0,percent:l,size:a.size},"_media")},imageUploadSuccess:function(e){var a=re(t.getState("_media").files);a.push(e.data),t.setState({files:a,type:"image",percent:0,size:0,uploading:!1},"_media")},videoUploadSuccess:(s=oe(T.a.mark(function e(a){var l,r;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("success"===a.ret){e.next=4;break}return t.setState({files:[],type:"video",percent:0,size:0,uploading:!1}),I.a.light("视频上传失败，请重试。"),e.abrupt("return");case 4:return l=t.getState("qiniuFileKey"),e.next=7,ae.a.P("get_qiniu_file-info",{key:l});case 7:r=e.sent,t.setState({files:[{fileId:l,name:r.hash,play_time:r.playTime,size:r.fsize,surface:r.surImg,targetPath:r.filePath,type:"mp4"}],type:"video",percent:0,size:0,uploading:!1},"_media");case 9:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)}),uploadError:function(){t.setState({uploading:!1},"_media")},delete:function(e){var a=re(t.getState("_media").files);a.splice(e,1),0===a.length?t.setState({files:[],type:void 0},"_media"):t.setState({files:a},"_media")},reset:function(){t.setState({files:[],type:void 0,uploading:!1,percent:0,size:0},"_media"),t.setState("","_textarea")}},t}return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&ue(e,a)}(a,ee["a"]),a}(),pe=X.prototype,se="state",de=[Z.k],be={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.initState({_media:{files:[],type:void 0,uploading:!1,percent:0,size:0},_textarea:"",qiniuFileKey:"",specialGoods:p.a.__EMPTY__,goods:te.a})}},fe={},Object.keys(be).forEach(function(e){fe[e]=be[e]}),fe.enumerable=!!fe.enumerable,fe.configurable=!!fe.configurable,("value"in fe||fe.initializer)&&(fe.writable=!0),fe=de.slice().reverse().reduce(function(e,a){return a(pe,se,e)||e},fe),ve&&void 0!==fe.initializer&&(fe.value=fe.initializer?fe.initializer.call(ve):void 0,fe.initializer=void 0),void 0===fe.initializer&&(Object.defineProperty(pe,se,fe),fe=null),Y=fe,X);function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,a){for(var t=0;t<a.length;t++){var l=a[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function Ee(e,a){return!a||"object"!==ge(a)&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):a}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Se(e,a){return(Se=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}var xe=Object(i.c)(he)(me=Object(i.a)(me=Object(i.d)((Ie=ye=function(e){function a(){return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),Ee(this,we(a).apply(this,arguments))}var t,l,n;return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&Se(e,a)}(a,r.a.Component),t=a,(l=[{key:"render",value:function(){if(!p.a.__CLIENT__)return null;var e=this.context.$,a=this.props,t=a.form,l=a.onSubmit;return r.a.createElement(c.k,{title:"发布渔获",header:r.a.createElement(u.o,{show:!0,ft:r.a.createElement("span",{className:"t-34 l-48 t-primary",onClick:function(){return l(t,e.do.publish)}},"发布")})},r.a.createElement(y,null),r.a.createElement(D,null),r.a.createElement("p",{className:"tool-wind t-24 t-sub mt-sm"},r.a.createElement("span",null,"晒渔获请务必带上清晰的"),r.a.createElement("span",{className:"t-danger"},"渔获称重照片或视频"),r.a.createElement("span",null,"，否则不作评分")),r.a.createElement(Q,{className:"mt-md",form:t}))}}])&&_e(t.prototype,l),n&&_e(t,n),a}(),ye.contextTypes={$:o.a.object},me=Ie))||me)||me)||me;a.default=xe}},[[829,1,0]]]);