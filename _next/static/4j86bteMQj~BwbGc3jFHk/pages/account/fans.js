(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1037:function(e,a,t){"use strict";t.r(a);var n,r,l=t(2),o=t.n(l),i=t(1),c=t.n(i),u=t(6),s=t.n(u),f=t(8),m=t.n(f),p=t(5),b=t(3),d=t(10),y=t(7),v=t(4),w=t(0),h=t(9),_=t.n(h),g=t(11),E=t(12),O=t(15),j=t(13);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(a){N(e,a,t[a])})}return e}function N(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function I(e,a,t,n,r,l,o){try{var i=e[l](o),c=i.value}catch(e){return void t(e)}i.done?a(c):Promise.resolve(c).then(n,r)}function P(e){return function(){var a=this,t=arguments;return new Promise(function(n,r){var l=e.apply(a,t);function o(e){I(l,n,r,o,i,"next",e)}function i(e){I(l,n,r,o,i,"throw",e)}o(void 0)})}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,a){return(z=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var q,R,V,C,F,U,A=(n=function(e){function a(){var e,t,n,l,o,i,c,u,s,f;!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a);for(var m=arguments.length,p=new Array(m),b=0;b<m;b++)p[b]=arguments[b];return n=this,l=(e=x(a)).call.apply(e,[this].concat(p)),t=!l||"object"!==k(l)&&"function"!=typeof l?T(n):l,o=t,i="state",c=r,u=T(T(t)),c&&Object.defineProperty(o,i,{enumerable:c.enumerable,configurable:c.configurable,writable:c.writable,value:c.initializer?c.initializer.call(u):void 0}),t.fetch={config:{static:["userInfo"],every:["fans"]},userInfo:(s=P(_.a.mark(function e(){var a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=j.a.fetchUserInfo(),e.t0=t,e.next=4,a;case 4:return e.t1=e.sent,e.t0.setState.call(e.t0,e.t1,"userInfo"),e.abrupt("return",a);case 7:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)}),fans:function(){return t.fetchThenSetState("get_fans-prove_list","fans")}},t.do={submit:(f=P(_.a.mark(function e(a){var n,r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getState("fans"),delete(r=S({},a)).ww,e.next=5,O.a.P(n.orderNo?"do_fans-prove_update":"do_fans-prove_add",r);case 5:v.a.router.push("/account/fans/success"),t.fetch.fans();case 7:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},t}return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&z(e,a)}(a,E["a"]),a}(),q=n.prototype,R="state",V=[g.k],C={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.initState({userInfo:j.a.getState("userInfo"),fans:{}})}},U={},Object.keys(C).forEach(function(e){U[e]=C[e]}),U.enumerable=!!U.enumerable,U.configurable=!!U.configurable,("value"in U||U.initializer)&&(U.writable=!0),U=V.slice().reverse().reduce(function(e,a){return a(q,R,e)||e},U),F&&void 0!==U.initializer&&(U.value=U.initializer?U.initializer.call(F):void 0,U.initializer=void 0),void 0===U.initializer&&(Object.defineProperty(q,R,U),U=null),r=U,n),D=[{label:"天猫：本汀旗舰店",value:"天猫：本汀旗舰店"},{label:"天猫：本汀麦酥专卖店",value:"天猫：本汀麦酥专卖店"},{label:"淘宝：西门町台客名品",value:"淘宝：西门町台客名品"},{label:"京东：本汀渔具旗舰店",value:"京东：本汀渔具旗舰店"},{label:"苏宁：本汀旗舰店",value:"苏宁：本汀旗舰店"},{label:"唯品会",value:"唯品会"},{label:"本汀官网",value:"本汀官网"},{label:"实体店",value:"实体店"}],G=[{label:"等待审核",value:"1"},{label:"小咖通过",value:"2"},{label:"审核不通过",value:"3"},{label:"重新提交资料",value:"4"},{label:"升级大咖审核中",value:"5"},{label:"大咖审核失败",value:"6"},{label:"大咖通过",value:"7"},{label:"移出粉丝队伍",value:"8"}],J="style-109692",$=function(e,a){var t=a.$,n=e.form,r=e.onSubmit,l=t.getState("userInfo"),i=l.ww,u=l._loaded,s=t.getState("fans"),f=s.typeName,p=s.goods,h=s.orderNo,_=s.proofImg,g=s.state,E=s.remark,O=s.authRemark,j=s._loaded;if(!u||!j)return null;var k,S="实体店"===(n.getFieldValue("typeName")||[])[0],N=""!==i,I=O||E,P=v.a.getLabel(G,g),x=N&&(!g||"审核不通过"===P||"大咖审核失败"===P||"小咖通过"===P),z="primary";switch(P){case"等待审核":k=P;break;case"审核不通过":k="重新提交";break;case"重新提交资料":k="重新提交资料，请等待审核";break;case"小咖通过":k="小咖通过，申请升级大咖";break;case"大咖审核失败":k="大咖审核失败，重新提交";break;case"移出粉丝队伍":z="danger",k="移出粉丝队伍，请联系客服";break;default:k=P}return c.a.createElement(d.k,{title:"粉丝认证",bd:null},c.a.createElement("div",{className:o.a.dynamic([["3835973296",[J]],["1921156135",[w.a.space,w.a.wind,w.a.color_theme]]])+" wrap"},c.a.createElement("p",{className:o.a.dynamic([["3835973296",[J]],["1921156135",[w.a.space,w.a.wind,w.a.color_theme]]])+" t-48 l-66 t-b"},"粉丝认证")),c.a.createElement(b.m,{className:"".concat(J,"__form"),form:n,label:!0},c.a.createElement(b.m.Input,{label:"旺旺ID",name:"ww",placeholder:"-",initialValue:i,disabled:!0,option:y.a.rules.required,extra:!N&&c.a.createElement(b.t,{className:"t-primary",href:y.a.__ROUTER__.ww},"去绑定")})),c.a.createElement(b.m,{className:"mt-d",form:n,label:!0,renderFooter:I&&c.a.createElement("p",{className:o.a.dynamic([["3835973296",[J]],["1921156135",[w.a.space,w.a.wind,w.a.color_theme]]])+" t-24"},c.a.createElement("span",{className:o.a.dynamic([["3835973296",[J]],["1921156135",[w.a.space,w.a.wind,w.a.color_theme]]])+" t-sub"},"上次审核备注："),c.a.createElement("span",{className:o.a.dynamic([["3835973296",[J]],["1921156135",[w.a.space,w.a.wind,w.a.color_theme]]])+" t-danger"},I))},c.a.createElement(b.m.Picker,{label:"店铺",name:"typeName",initialValue:f?[f]:[D[0].value],disabled:!x,option:y.a.rules.required,data:D}),c.a.createElement(b.m.Input,{label:"产品",name:"goods",initialValue:p,disabled:!x,option:y.a.rules.required}),!S&&c.a.createElement(b.m.Input,{label:"订单编号",name:"orderNo",initialValue:h,disabled:!x,option:y.a.rules.required,type:"number"}),S&&c.a.createElement(b.m.Upload,{title:c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:o.a.dynamic([["3835973296",[J]],["1921156135",[w.a.space,w.a.wind,w.a.color_theme]]])+" "+(m()("c-form__label c-form__label-required t-34 l-48",{"t-disabled":!x})||"")},"上传图片"),c.a.createElement("p",{className:o.a.dynamic([["3835973296",[J]],["1921156135",[w.a.space,w.a.wind,w.a.color_theme]]])+" t-24 l-34 t-sub t-4"},"请把实体店铺售后卡拍照并上传")),name:"proofImg",initialValue:_,disabled:!x,option:y.a.rules.required})),c.a.createElement(b.m.Button,{type:z,disabled:!x,onClick:function(){return r(n,function(e){return v.a.onConfirm("确认信息无误并提交?",function(){return t.do.submit(e)})})}},k),c.a.createElement(o.a,{styleId:"3835973296",css:".".concat(J,"__form{margin-top:0;}"),dynamic:[J]}),c.a.createElement(o.a,{styleId:"1921156135",css:".wrap.__jsx-style-dynamic-selector{padding:".concat(w.a.space," ").concat(w.a.wind,";background:").concat(w.a.color_theme,";}"),dynamic:[w.a.space,w.a.wind,w.a.color_theme]}))};$.contextTypes={$:s.a.object};var B=Object(p.c)(A)(Object(p.a)(Object(p.d)($)));a.default=B},805:function(e,a,t){__NEXT_REGISTER_PAGE("/account/fans",function(){return e.exports=t(1037),{page:e.exports.default}})}},[[805,1,0]]]);