(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{814:function(e,t,a){__NEXT_REGISTER_PAGE("/bbs/floor/detail",function(){return e.exports=a(958),{page:e.exports.default}})},958:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(6),o=a.n(c),l=a(5),i=a(3),s=a(10),m=a(8),u=a.n(m),d=a(14),f=a.n(d),p=a(4),y=Object(l.d)(function(e){var t=e.content,a=e.createTime,n=e.faceImg,c=e.fanAuth,o=e.floor,l=e.grade,m=e.niname,d=e.role,y=e.top,h=e.userId,b=e.vip,_=e.className,v="".concat(o,"楼");"2楼"===v&&(v="沙发"),"3楼"===v&&(v="板凳"),"4楼"===v&&(v="地板");var g=parseInt(y)>0;return r.a.createElement(i.u.Item,{className:u()("style-554221",_),thumb:r.a.createElement(s.c,{userId:h,img:n,vip:b}),thumbPosition:"top"},r.a.createElement(f.a,null,r.a.createElement(s.b,{userId:h,name:m,level:l,fansAuth:c,role:d,left:"".concat(v,g?" · 置顶 | ":" | "),date:p.a.lastDate(a)})),r.a.createElement(i.g,{className:"t-34 l-48 t-title user-select mt-24",html:{__html:t}}))}),h=[{title:"最新"},{title:"正序"}],b=[{title:"最新"},{title:"正序"},{title:"我的"}],_=function(e,t){var a=t.$,n=e.className,c=a.getState("_affixTabs").page,o=a.getState("userInfo").userId,l=a.getState("comment");return r.a.createElement("div",{className:u()("style-114762",n)},r.a.createElement(i.a,{tabs:o?b:h,page:c,onTabClick:a.page.onTabClick},r.a.createElement(i.v,{data:l,renderRow:function(e){return r.a.createElement(y,e)},renderEmpty:r.a.createElement(i.i,null,"来抢沙发吧..."),onEndReached:a.fetch.comment})))};_.contextTypes={$:o.a.object};var v=Object(l.d)(_),g=a(2),E=a.n(g),w=a(7),I=a(0),x=function(e,t){var a=t.$,n=e.className,c=a.getState("userInfo").isFav,o=a.getState("detail").likeAdd,l=a.getState("score"),s=l.list,m=l.allnum,d=1==c;return r.a.createElement("div",{className:E.a.dynamic([["2758153767",["style-112279","style-112279",I.a.color_theme,"style-112279","style-112279","style-112279","style-112279"]],["1233130476",[I.a._full]]])+" "+(u()("style-112279",n)||"")},r.a.createElement(f.a,{justify:"center"},r.a.createElement(i.c,{size:"sm",ghost:!0,inline:!0,onClick:function(){return p.a.checkLogin(function(){d?p.a.onPrompt("红人加积分",a.do.addScoreHongren,1,"可根据帖子质量加1-10积分"):p.a.onConfirm("确定给作者加积分?",a.do.addScore)})}},r.a.createElement(f.a,{style:{height:"100%"}},r.a.createElement(i.p,{className:"t-30 t-title",type:"plus-circle"}),r.a.createElement("span",{className:E.a.dynamic([["2758153767",["style-112279","style-112279",I.a.color_theme,"style-112279","style-112279","style-112279","style-112279"]],["1233130476",[I.a._full]]])+" t-30 l-56 t-title ml-16"},"加分"))),r.a.createElement(i.c,{className:"ml-32",type:a.isLike?"primary":"default",size:"sm",ghost:!0,inline:!0,onClick:function(){return p.a.checkLogin(a.do.toggleLike)}},r.a.createElement(f.a,{style:{height:"100%"}},r.a.createElement(i.p,{className:u()("t-30",{"t-title":!a.isLike,"t-primary":a.isLike}),type:"hand"}),r.a.createElement("span",{className:E.a.dynamic([["2758153767",["style-112279","style-112279",I.a.color_theme,"style-112279","style-112279","style-112279","style-112279"]],["1233130476",[I.a._full]]])+" t-30 ml-16"},o||"点赞")))),!!s.length&&r.a.createElement(f.a,{className:"".concat("style-112279","__wrap-avatar mt-42"),justify:"center",wrap:"wrap"},s.filter(function(e){return"static/uploads/png/20170519/591e5f9e2c2bc.png"!==e.faceImg}).map(function(e){return r.a.createElement(i.q,{key:e.userId,className:"".concat("style-112279","__avatar"),src:e.faceImg,size:"0.64rem",circle:!0},r.a.createElement("span",{className:E.a.dynamic([["2758153767",["style-112279","style-112279",I.a.color_theme,"style-112279","style-112279","style-112279","style-112279"]],["1233130476",[I.a._full]]])+" point t-32 t-void t-c"},e.point))}),r.a.createElement("span",{className:E.a.dynamic([["2758153767",["style-112279","style-112279",I.a.color_theme,"style-112279","style-112279","style-112279","style-112279"]],["1233130476",[I.a._full]]])+" t-30 l-64 t-sub ml-8 mt-4"},m,"人加分")),r.a.createElement(E.a,{styleId:"2758153767",css:".".concat("style-112279","__wrap-avatar{padding:0 12%;}.").concat("style-112279","__avatar{margin:0.04rem 0 0 -0.2rem;border:0.04rem solid ").concat(I.a.color_theme,";}.").concat("style-112279","__avatar:active,.").concat("style-112279","__avatar:hover{z-index:1;}.").concat("style-112279","__avatar:active .point,.").concat("style-112279","__avatar:hover .point{opacity:1;}"),dynamic:["style-112279","style-112279",I.a.color_theme,"style-112279","style-112279","style-112279","style-112279"]}),r.a.createElement(E.a,{styleId:"1233130476",css:".point.__jsx-style-dynamic-selector{".concat(I.a._full,";z-index:1;line-height:0.56rem;background:rgba(0,0,0,0.64);-webkit-transition:opacity 0.3s;transition:opacity 0.3s;opacity:0;}"),dynamic:[I.a._full]}))};x.contextTypes={$:o.a.object};var S=Object(l.d)(x),k=function(e,t){var a,n=t.$,c=e.className,o=n.getState("detail"),l=o.json,s=o.title,m=o.content,d=o._loaded;if(l){var f;if(w.a.__WX__){var y=[];try{l&&(y=p.a.getRealDraftEntityMap(JSON.parse(l),!0))}catch(e){var h=n.params.params.id;console.error("[JSON.parse Draft data error.][threadId: ".concat(h,"]"))}f=y.length?y[0]:w.a.__SHARE_IMG__,setTimeout(function(){p.a.wxShareUpdate({title:s,desc:p.a.getCharFilterEmoji(p.a.removeHTMLTag(m)),imgUrl:p.a.getAppImgUrl(f)})},1e3)}a=r.a.createElement(i.B,{className:"t-34 l-48 t-title",data:l,readOnly:!0,imgView:!0})}return r.a.createElement("div",{className:E.a.dynamic([["2761277962",[I.a.wind,I.a.bottom,I.a.color_theme]]])+" "+(u()("style-139999",c)||"")},r.a.createElement("div",{style:{minHeight:d?"64vw":"100vh"},className:E.a.dynamic([["2761277962",[I.a.wind,I.a.bottom,I.a.color_theme]]])+" user-select"},a||r.a.createElement(i.g,{className:"t-34 l-48 t-title",html:{__html:m},imgView:!0})),d&&r.a.createElement(i.s,{onDidMount:n.fetch.lazy.score},r.a.createElement(S,{className:"mt-60"})),r.a.createElement(E.a,{styleId:"2761277962",css:".style-139999.__jsx-style-dynamic-selector{position:relative;padding:0.4rem ".concat(I.a.wind," ").concat(I.a.bottom,";background:").concat(I.a.color_theme,";}"),dynamic:[I.a.wind,I.a.bottom,I.a.color_theme]}))};k.contextTypes={$:o.a.object};var N=Object(l.d)(k),j=function(e,t){var a=t.$,n=e.className,c=a.getState("detail").lotteryUser,o=void 0===c?{}:c;return o.userId?r.a.createElement("div",{className:E.a.dynamic([["558134735",[I.a.color_theme,I.a.border,I.a.wind]]])+" "+(u()("style-141268",n)||"")},r.a.createElement(f.a,{className:"p-sw"},r.a.createElement(i.q,{src:o.faceImg,size:"0.88rem",circle:!0,onClick:function(){return p.a.router.push("/person/zone?id=".concat(o.userId),"/person/zone/".concat(o.userId))}}),r.a.createElement(f.a.Item,null,r.a.createElement("p",{className:E.a.dynamic([["558134735",[I.a.color_theme,I.a.border,I.a.wind]]])+" t-sm"},r.a.createElement("span",{className:E.a.dynamic([["558134735",[I.a.color_theme,I.a.border,I.a.wind]]])},"本期达人："),r.a.createElement("span",{className:E.a.dynamic([["558134735",[I.a.color_theme,I.a.border,I.a.wind]]])+" t-primary"},o.niname)),r.a.createElement("p",{className:E.a.dynamic([["558134735",[I.a.color_theme,I.a.border,I.a.wind]]])+" t-sm mt-xs"},r.a.createElement("span",{className:E.a.dynamic([["558134735",[I.a.color_theme,I.a.border,I.a.wind]]])},"踩楼次数："),r.a.createElement("span",{className:E.a.dynamic([["558134735",[I.a.color_theme,I.a.border,I.a.wind]]])+" t-primary mr-xs"},o.userFloors.length),r.a.createElement("span",{className:E.a.dynamic([["558134735",[I.a.color_theme,I.a.border,I.a.wind]]])},"次")),r.a.createElement("p",{className:E.a.dynamic([["558134735",[I.a.color_theme,I.a.border,I.a.wind]]])+" t-sm mt-xs"},r.a.createElement("span",{className:E.a.dynamic([["558134735",[I.a.color_theme,I.a.border,I.a.wind]]])},"幸运楼层："),r.a.createElement("span",{className:E.a.dynamic([["558134735",[I.a.color_theme,I.a.border,I.a.wind]]])+" t-primary"},"#",o.floor)))),r.a.createElement("div",{className:E.a.dynamic([["558134735",[I.a.color_theme,I.a.border,I.a.wind]]])+" calculate p-sw"},r.a.createElement("p",{className:E.a.dynamic([["558134735",[I.a.color_theme,I.a.border,I.a.wind]]])+" t-sm"},"计算公式："),r.a.createElement(f.a,{className:"t-xs mt-sm"},r.a.createElement(f.a.Item,{className:"t-primary"},o.lotteryNumber),r.a.createElement(f.a.Item,null,"%"),r.a.createElement(f.a.Item,{className:"t-primary"},o.floorCount),r.a.createElement(f.a.Item,null,"+ 1"),r.a.createElement(f.a.Item,null,"="),r.a.createElement(f.a.Item,{className:"t-primary"},o.floor)),r.a.createElement(f.a,{className:"t-xs t-sub mt-xs"},r.a.createElement(f.a.Item,null,"排列五"),r.a.createElement(f.a.Item,null,"取余"),r.a.createElement(f.a.Item,null,"总楼层"),r.a.createElement(f.a.Item,null,"+ 1"),r.a.createElement(f.a.Item,null,"="),r.a.createElement(f.a.Item,null,"幸运楼层"))),r.a.createElement(E.a,{styleId:"558134735",css:".style-141268.__jsx-style-dynamic-selector{background:".concat(I.a.color_theme,";}.calculate.__jsx-style-dynamic-selector{border-top:").concat(I.a.border,";}.calculate.__jsx-style-dynamic-selector .am-flexbox-item{margin-left:0;}.calculate.__jsx-style-dynamic-selector .am-flexbox-item:not(:first-child){text-align:center;}.img-master.__jsx-style-dynamic-selector{position:absolute;top:50%;right:").concat(I.a.wind,";-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);}"),dynamic:[I.a.color_theme,I.a.border,I.a.wind]})):null};j.contextTypes={$:o.a.object};var T,O,L,F=Object(l.d)(j);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var M=Object(l.d)((L=O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),A(this,z(t).apply(this,arguments))}var a,n,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,r.a.Component),a=t,(n=[{key:"componentWillUnmount",value:function(){this.context.$.page.hideFixedTextarea()}},{key:"render",value:function(){var e=this.props.className,t=this.context.$,a=t.getState("_fixedTextarea"),n=a.show,c=a.onSubmit,o=t.getState("detail"),l=o.replayDefContent,s=o.lotteryUser,m=void 0===s?{}:s;return!o._loaded||m.userId?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(i.k,{show:n,showEmoji:!1,showCoin:!0,value:l,onSubmit:c,onClose:t.page.hideFixedTextarea}),!n&&r.a.createElement(i.j,{className:u()("style-103228",e),onInputClick:t.page.onCommentClick,placeholder:"点击参与踩楼"}))}}])&&C(a.prototype,n),c&&C(a,c),t}(),O.contextTypes={$:o.a.object},T=L))||T,R=function(e,t){var a,n=t.$,c=e.className,o=n.getState("detail"),l=o.title,m=o.registrationData,d=o.displayState,f=o.userId,y=o.faceImg,h=o.niname,b=o.grade,_=o.fanAuth,v=o.createTime;return m?a="活动":parseInt(d)>0&&(a="置顶"),r.a.createElement("div",{className:E.a.dynamic([["1186135597",[I.a.wind,I.a.color_theme]]])+" "+(u()("style-192291",c)||"")},r.a.createElement("h4",{className:E.a.dynamic([["1186135597",[I.a.wind,I.a.color_theme]]])+" t-40 l-56 t-b"},a&&r.a.createElement("span",{className:E.a.dynamic([["1186135597",[I.a.wind,I.a.color_theme]]])+" t-danger"},a," · "),r.a.createElement("span",{className:E.a.dynamic([["1186135597",[I.a.wind,I.a.color_theme]]])},l)),r.a.createElement(i.l,{className:"mt-40"},r.a.createElement(i.l.Item,null,r.a.createElement(s.b,{userId:f,img:y,name:h,level:b,fansAuth:_,date:v&&p.a.date("y-m-d H:i:s",v)}))),r.a.createElement(E.a,{styleId:"1186135597",css:".style-192291.__jsx-style-dynamic-selector{padding:0.16rem ".concat(I.a.wind," 0;background:").concat(I.a.color_theme,";}"),dynamic:[I.a.wind,I.a.color_theme]}))};R.contextTypes={$:o.a.object};var D=Object(l.d)(R),H=function(e,t){var a=t.$,n=a.getState("detail"),c=n._loaded,o=n.threadId,l=n.title,s=n.json,m=n.content;if(!c)return r.a.createElement(i.o,{show:!0,bd:null});var d=w.a.__SHARE_IMG__;if(s){var f=p.a.getRealDraftEntityMap(s);d=f.length?f[0]:w.a.__SHARE_IMG__}return r.a.createElement(i.o,{show:!0,bd:null,ft:r.a.createElement(i.l,null,r.a.createElement(i.p,{className:u()("t-34 t-b",{"t-title":!a.isFavor,"t-primary":a.isFavor}),type:"favor-fill",onClick:function(){return p.a.checkLogin(a.do.toggleFavor)}}),r.a.createElement(i.w,{className:"ml-32",config:{icon:d,link:"".concat(w.a.__WEB__,"/bbs/floor/").concat(o),title:l,desc:p.a.removeHTMLTag(m)},actionSheetConfig:{message:"分享邀请链接到"}},r.a.createElement(i.p,{className:"t-34 t-title t-b",type:"share-fill"})))})};H.contextTypes={$:o.a.object};var U,J,q=Object(l.d)(H),G=a(9),Y=a.n(G),B=a(11),Q=a(12),W=a(15),V=a(13);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Z(e,t,a,n,r,c,o){try{var l=e[c](o),i=l.value}catch(e){return void a(e)}l.done?t(i):Promise.resolve(i).then(n,r)}function ee(e){return function(){var t=this,a=arguments;return new Promise(function(n,r){var c=e.apply(t,a);function o(e){Z(c,n,r,o,l,"next",e)}function l(e){Z(c,n,r,o,l,"throw",e)}o(void 0)})}}function te(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ce,oe,le,ie,se,me,ue=(U=function(e){function t(){var e,a,n,r,c,o,l,i,s,m,u,d,f,y,h,_;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var v=arguments.length,g=new Array(v),E=0;E<v;E++)g[E]=arguments[E];return n=this,r=(e=ae(t)).call.apply(e,[this].concat(g)),a=!r||"object"!==X(r)&&"function"!=typeof r?re(n):r,c=a,o="state",l=J,i=re(re(a)),l&&Object.defineProperty(c,o,{enumerable:l.enumerable,configurable:l.configurable,writable:l.writable,value:l.initializer?l.initializer.call(i):void 0}),a.params={queryComment:{}},a.setQuery={comment:function(e){var t,n=b[e].title,r=a.params.params.id;switch(n){case"最新":t={_:{limit:w.a.__LIMIT__,order:{top:"desc",createTime:"desc"},search:{threadId:r}}};break;case"正序":t={_:{limit:w.a.__LIMIT__,search:{threadId:r}}};break;case"我的":t={_:{limit:w.a.__LIMIT__,search:{AND:{threadId:r,OR:{parUserId:a.getState("userInfo").userId,userId:a.getState("userInfo").userId}}}}}}a.setParams({queryComment:t})}},a.fetch={config:{static:["userInfo","bbsLikeAndFavorList"],one:["detail"]},userInfo:(u=ee(Y.a.mark(function e(){var t;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=V.a.fetchUserInfo(),e.t0=a,e.next=4,t;case 4:return e.t1=e.sent,e.t0.setState.call(e.t0,e.t1,"userInfo"),e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)}),bbsLikeAndFavorList:(m=ee(Y.a.mark(function e(){var t;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=V.a.fetchBBSLikeAndFavorList(),e.t0=a,e.next=4,t;case 4:return e.t1=e.sent,e.t0.setState.call(e.t0,e.t1,"bbsLikeAndFavorList"),e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)}),detail:(s=ee(Y.a.mark(function e(){var t;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.params.params.id,e.abrupt("return",a.fetchThenSetState("get_floor_detail","detail",{threadId:t}));case 2:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)}),comment:function(e){var t=a.params.queryComment;return a.fetchListThenSetState("get_floor_comment","comment",t,e)},score:function(){var e=a.params.params.id;return a.fetchThenSetState("get_bbs_scoretips-list","score",{_:{limit:3*w.a.__LIMIT__,order:{point:"desc"},search:{relevType:10016,relevId:e}}})},lazy:{score:function(){a.getState("score")._loaded||a.fetch.score()},comment:function(){return a.fetch.comment(!0)}}},a.computed={isLike:function(){var e=a.params.params.id,t=a.getState("bbsLikeAndFavorList");return!(!t.list||!t.list.like)&&-1!==t.list.like.findIndex(function(t){return t==e})},isFavor:function(){var e=a.params.params.id,t=a.getState("bbsLikeAndFavorList");return!(!t.list||!t.list.favorite)&&-1!==t.list.favorite.findIndex(function(t){return t==e})}},a.do={comment:(_=ee(Y.a.mark(function e(t){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.P("do_floor_comment",t);case 2:a.fetch.comment(!0),a.page.hideFixedTextarea(),p.a.light("踩楼成功");case 5:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)}),toggleFavor:(h=ee(Y.a.mark(function e(){var t,n,r;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.getState("detail"),n=t.threadId,e.next=3,V.a.doFavor(n);case 3:r=V.a.getState("bbsLikeAndFavorList"),a.setState(r,"bbsLikeAndFavorList"),a.fetch.detail();case 6:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)}),toggleLike:(y=ee(Y.a.mark(function e(){var t,n,r,c;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.getState("detail"),n=t.postId,r=t.threadId,e.next=3,V.a.doLike(n,r);case 3:c=V.a.getState("bbsLikeAndFavorList"),a.setState(c,"bbsLikeAndFavorList"),a.fetch.detail();case 6:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)}),addScore:(f=ee(Y.a.mark(function e(){var t,n;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.params.params.id,e.next=3,W.a.P("do_bbs_scoretips-post",{threadId:t,changeScore:1});case 3:n=e.sent,a.fetch.score(),p.a.light("已成功为他加 ".concat(n.point," 积分"));case 6:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)}),addScoreHongren:(d=ee(Y.a.mark(function e(t){var n,r;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.params.params.id,r=parseInt(t),!(isNaN(r)||r<1||r>10)){e.next=5;break}return p.a.light("请输入1-10"),e.abrupt("return");case 5:return e.next=7,W.a.P("do_hong-ren_score",{threadId:n,changeScore:r});case 7:a.fetch.score(),p.a.light("已成功为他加 ".concat(t," 积分"));case 9:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})},a.page={onTabClick:function(e,t){a.setQuery.comment(t),a.fetch.comment(!0),a.setState({page:t},"_affixTabs")},onCommentClick:function(e){var t,n=a.getState("detail").threadId;e.parentId||(t=function(){var e=a.getState("detail"),t=e.postId,r=e.replayDefContent;a.do.comment({content:r,threadId:n,parentId:t})}),a.page.showFixedTextarea({onSubmit:t})},showFixedTextarea:function(e){return a.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){K(e,t,a[t])})}return e}({},e,{show:!0}),"_fixedTextarea")},hideFixedTextarea:function(){return a.setState({show:!1},"_fixedTextarea")}},a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,Q["a"]),a=t,(n=[{key:"storeInit",value:function(){this.setQuery.comment(0),this.setState({page:0},"_affixTabs")}}])&&te(a.prototype,n),r&&te(a,r),t}(),ce=U.prototype,oe="state",le=[B.k],ie={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.initState({_affixTabs:{page:0},_fixedTextarea:{show:!1,onSubmit:Function.prototype},userInfo:V.a.toJS("userInfo"),bbsLikeAndFavorList:V.a.toJS("bbsLikeAndFavorList"),detail:{},comment:w.a.__EMPTY__,score:w.a.__EMPTY__})}},me={},Object.keys(ie).forEach(function(e){me[e]=ie[e]}),me.enumerable=!!me.enumerable,me.configurable=!!me.configurable,("value"in me||me.initializer)&&(me.writable=!0),me=le.slice().reverse().reduce(function(e,t){return t(ce,oe,e)||e},me),se&&void 0!==me.initializer&&(me.value=me.initializer?me.initializer.call(se):void 0,me.initializer=void 0),void 0===me.initializer&&(Object.defineProperty(ce,oe,me),me=null),J=me,U),de=function(e,t){var a=t.$,n=a.getState("detail"),c=n.title,o=n._loaded;return r.a.createElement(s.k,{title:c||"帖子详情",header:r.a.createElement(q,null)},r.a.createElement(D,null),r.a.createElement(N,null),r.a.createElement(F,{className:"mt-d"}),o&&r.a.createElement(i.s,{onDidMount:a.fetch.lazy.comment},r.a.createElement(v,{className:"mt-d"})),r.a.createElement(M,null))};de.contextTypes={$:o.a.object};var fe=Object(l.c)(ue)(Object(l.d)(de));t.default=fe}},[[814,1,0]]]);