(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{107:function(e,t,a){e.exports=a(121)},121:function(e,t,a){"use strict";var r=a(40);Object.defineProperty(t,"__esModule",{value:!0}),t.defaultHead=g,t.default=void 0;var n=r(a(87)),i=r(a(44)),o=r(a(45)),c=r(a(58)),s=r(a(59)),l=r(a(60)),m=r(a(55)),d=r(a(1)),u=r(a(6)),f=r(a(122)),p=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return null}}]),t}(d.default.Component);(0,m.default)(p,"contextTypes",{headManager:u.default.object});var y="next-head";function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;return[d.default.createElement("meta",{key:"charSet",charSet:"utf-8",className:e})]}var b=["name","httpEquiv","charSet","itemProp","property"],h=["article:tag","og:image","og:image:alt","og:image:width","og:image:height","og:image:type","og:image:secure_url","og:image:url"];var _=(0,f.default)(function(e){return e.map(function(e){return d.default.Children.toArray(e.props.children)}).reduce(function(e,t){return e.concat(t)},[]).reduce(function(e,t){return d.default.Fragment&&t.type===d.default.Fragment?e.concat(d.default.Children.toArray(t.props.children)):e.concat(t)},[]).reverse().concat(g("")).filter(Boolean).filter((t=new n.default,a=new n.default,r=new n.default,i={},function(e){if(e.key&&0===e.key.indexOf(".$")){if(t.has(e.key))return!1;t.add(e.key)}switch(e.type){case"title":case"base":if(a.has(e.type))return!1;a.add(e.type);break;case"meta":for(var o=0,c=b.length;o<c;o++){var s=b[o];if(e.props.hasOwnProperty(s))if("charSet"===s){if(r.has(s))return!1;r.add(s)}else{var l=e.props[s],m=i[s]||new n.default;if(m.has(l)&&-1===h.indexOf(l))return!1;m.add(l),i[s]=m}}}return!0})).reverse().map(function(e,t){var a=(e.props&&e.props.className?e.props.className+" ":"")+y,r=e.key||t;return d.default.cloneElement(e,{key:r,className:a})});var t,a,r,i},function(e){this.context&&this.context.headManager&&this.context.headManager.updateHead(e)},function(e){return e})(p);t.default=_},122:function(e,t,a){"use strict";var r=a(84),n=a(40);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){if("function"!=typeof e)throw new Error("Expected reduceComponentsToState to be a function.");if("function"!=typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==a&&"function"!=typeof a)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(r){if("function"!=typeof r)throw new Error("Expected WrappedComponent to be a React component.");var n,g=new f.default;function b(r){n=e((0,u.default)(g)),h.canUseDOM?t.call(r,n):a&&(n=a(n))}var h=function(e){function t(e){var a;return(0,i.default)(this,t),a=(0,o.default)(this,(0,c.default)(t).call(this,e)),t.canUseDOM||(g.add((0,m.default)((0,m.default)(a))),b((0,m.default)((0,m.default)(a)))),a}return(0,l.default)(t,e),(0,s.default)(t,null,[{key:"peek",value:function(){return n}},{key:"rewind",value:function(){if(t.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=n;return n=void 0,g.clear(),e}}]),(0,s.default)(t,[{key:"componentDidMount",value:function(){g.add(this),b(this)}},{key:"componentDidUpdate",value:function(){b(this)}},{key:"componentWillUnmount",value:function(){g.delete(this),b(this)}},{key:"render",value:function(){return p.default.createElement(r,null,this.props.children)}}]),t}(p.Component);return(0,d.default)(h,"canUseDOM","undefined"!=typeof window),(0,d.default)(h,"contextTypes",r.contextTypes),(0,d.default)(h,"displayName","SideEffect(".concat((0,y.getDisplayName)(r),")")),h}};var i=n(a(44)),o=n(a(58)),c=n(a(59)),s=n(a(45)),l=n(a(60)),m=n(a(116)),d=n(a(55)),u=n(a(123)),f=n(a(87)),p=r(a(1)),y=a(88)},123:function(e,t,a){var r=a(124),n=a(125),i=a(130);e.exports=function(e){return r(e)||n(e)||i()}},124:function(e,t,a){var r=a(135);e.exports=function(e){if(r(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}},125:function(e,t,a){var r=a(126),n=a(127);e.exports=function(e){if(n(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return r(e)}},126:function(e,t,a){e.exports=a(171)},127:function(e,t,a){e.exports=a(128)},128:function(e,t,a){a(97),a(86),e.exports=a(129)},129:function(e,t,a){var r=a(115),n=a(49)("iterator"),i=a(96);e.exports=a(32).isIterable=function(e){var t=Object(e);return void 0!==t[n]||"@@iterator"in t||i.hasOwnProperty(r(t))}},130:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},28:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(a(16)),n=d(a(21)),i=d(a(18)),o=d(a(19)),c=d(a(17)),s=d(a(20)),l=d(a(8)),m=d(a(1));function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(a[r[n]]=e[r[n]])}return a},f=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t,a=this.props,i=a.className,o=a.prefixCls,c=a.children,s=a.text,d=a.size,f=a.overflowCount,p=a.dot,y=a.corner,g=a.hot,b=u(a,["className","prefixCls","children","text","size","overflowCount","dot","corner","hot"]);f=f,s="number"==typeof s&&s>f?f+"+":s,p&&(s="");var h=(0,l.default)((e={},(0,n.default)(e,o+"-dot",p),(0,n.default)(e,o+"-dot-large",p&&"large"===d),(0,n.default)(e,o+"-text",!p&&!y),(0,n.default)(e,o+"-corner",y),(0,n.default)(e,o+"-corner-large",y&&"large"===d),e)),_=(0,l.default)(o,i,(t={},(0,n.default)(t,o+"-not-a-wrapper",!c),(0,n.default)(t,o+"-corner-wrapper",y),(0,n.default)(t,o+"-hot",!!g),(0,n.default)(t,o+"-corner-wrapper-large",y&&"large"===d),t));return m.default.createElement("span",{className:_},c,(s||p)&&m.default.createElement("sup",(0,r.default)({className:h},b),s))}}]),t}(m.default.Component);t.default=f,f.defaultProps={prefixCls:"am-badge",size:"small",overflowCount:99,dot:!1,corner:!1},e.exports=t.default},812:function(e,t,a){__NEXT_REGISTER_PAGE("/bbs/article",function(){return e.exports=a(953),{page:e.exports.default}})},953:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),i=a(6),o=a.n(i),c=a(5),s=a(3),l=a(10),m=a(7),d=a(107),u=a.n(d),f=a(4),p=function(e,t){var a,r,i=t.$,o=i.params.params.id,c=i.getState("detail"),s=c.json,l=c.title,d=c.createTime,p="".concat(l,"-本汀");return(r=s?f.a.getRealDraftEntityMap(JSON.parse(s)):[]).length>3?r.length=3:2===r.length&&(r.length=1),r=r.map(function(e){return f.a.getAppImgUrl(e,"scale")}),a={"@context":"https://ziyuan.baidu.com/contexts/cambrian.jsonld","@id":"".concat(m.a.__WEB__,"/bbs/article/").concat(o),appid:"1588542739025543",title:p,images:r,pubDate:"".concat(f.a.date("Y-m-d",d),"T").concat(f.a.date("H:i:s",d))},n.a.createElement(u.a,null,n.a.createElement("title",null,p),n.a.createElement("link",{rel:"canonical",href:"".concat(m.a.__WEB__,"/bbs/article/").concat(o)}),n.a.createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(a)}}))};p.contextTypes={$:o.a.object};var y=Object(c.d)(p);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(){var e,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=h(this,(e=_(t)).call.apply(e,[this].concat(n)))).state={baiduPushImgSrc:""},a}var a,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,n.a.Component),a=t,(r=[{key:"componentDidMount",value:function(){if(!this.state.baiduPushImgSrc){var e=window.location.href,t=document.referrer;if(!/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi.test(e)){var a="https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif";t?(a+="?r=".concat(document.referrer),e&&(a+="&l=".concat(e))):e&&(a+="?l=".concat(e)),this.setState({baiduPushImgSrc:a})}}}},{key:"render",value:function(){var e=this.state.baiduPushImgSrc;return e&&n.a.createElement("img",{className:"img-baidu-push",src:e,style:{display:"none"},alt:""})}}])&&b(a.prototype,r),i&&b(a,i),t}(),x=a(8),E=a.n(x),k=a(14),N=a.n(k),P=a(2),j=a.n(P),S=a(0),I=function(e,t){var a=t.$,r=e.commentImg,i=e.content,o=e.createTime,c=e.faceImg,m=e.fanAuth,d=e.floor,u=e.grade,p=e.niname,y=e.parCreateTime,g=e.parNiname,b=e.parUserId,h=e.postId,_=e.role,w=e.top,v=e.userId,x=e.vip,k=e.className,P="".concat(d,"楼");"2楼"===P&&(P="沙发"),"3楼"===P&&(P="板凳"),"4楼"===P&&(P="地板");var I=parseInt(w)>0,T=1==e.rtype,O=!!y;return n.a.createElement(s.u.Item,{className:E()("style-451023",k),thumb:n.a.createElement(l.c,{userId:v,img:c,vip:x}),thumbPosition:"top"},n.a.createElement(N.a,null,n.a.createElement(N.a.Item,null,n.a.createElement(l.b,{userId:v,name:p,level:u,fansAuth:m,role:_,left:"".concat(P,I?" · 置顶 | ":" | "),date:f.a.lastDate(o)})),n.a.createElement("div",{onClick:function(){return f.a.checkLogin(function(){return a.page.onCommentClick({parentId:h,niname:"".concat(P," | ").concat(p)})})},className:j.a.dynamic([["3664807716",[S.a.color_bg,S.a.radius_xs]]])+" icon-comment tool-wrap-icon"},n.a.createElement(s.p,{className:"t-28 t-icon",type:"comment-fill"}))),T?n.a.createElement(N.a,{className:"t-34 l-48 t-title mt-24 user-select"},n.a.createElement("span",{className:j.a.dynamic([["3664807716",[S.a.color_bg,S.a.radius_xs]]])},"打赏了"),n.a.createElement("span",{className:j.a.dynamic([["3664807716",[S.a.color_bg,S.a.radius_xs]]])+" t-primary"},e.content),n.a.createElement(s.q,{className:"ml-8",src:f.a.getImgUrl(r),size:"1rem",transparent:!0})):n.a.createElement("div",{className:j.a.dynamic([["3664807716",[S.a.color_bg,S.a.radius_xs]]])+" mt-24"},O&&n.a.createElement("div",{className:j.a.dynamic([["3664807716",[S.a.color_bg,S.a.radius_xs]]])+" quote"},n.a.createElement(s.e,{className:"t-28 l-40 t-sub user-select",left:n.a.createElement("span",{className:j.a.dynamic([["3664807716",[S.a.color_bg,S.a.radius_xs]]])},n.a.createElement(s.t,{className:"t-28 l-40 t-primary",href:"/person/zone?id=".concat(b),as:"/person/zone/".concat(e.parUserId)},g),"："),style:{display:"inline-block"}},e.parMessage)),n.a.createElement(s.g,{className:"t-34 l-48 t-title user-select",html:{__html:i}}),r&&n.a.createElement("img",{src:f.a.getAppImgUrl(r,"scale"),alt:"",className:j.a.dynamic([["3664807716",[S.a.color_bg,S.a.radius_xs]]])+" img-reply mt-16"})),n.a.createElement(j.a,{styleId:"3664807716",css:".quote.__jsx-style-dynamic-selector{padding:0.08rem;margin-bottom:0.16rem;background:".concat(S.a.color_bg,";border-radius:").concat(S.a.radius_xs,";}.icon-comment.__jsx-style-dynamic-selector{margin-right:-0.16rem;}.img-reply.__jsx-style-dynamic-selector{width:64vw !important;height:auto !important;}"),dynamic:[S.a.color_bg,S.a.radius_xs]}))};I.contextTypes={$:o.a.object};var T=Object(c.d)(I),O=f.a.cdn("/static/images/src/bbs/Article"),C=[{title:"最新"},{title:"正序"},{title:"楼主"}],L=[{title:"最新"},{title:"正序"},{title:"楼主"},{title:"我的"}],A=[{label:"金币",value:"1"},{label:"积分",value:"2"}],M=["神鹤","金迦潘","财神","棍王","爆草","神棍","汀神","池霸","天弧","超长（8-15米）","销魂单品"],H=[{label:"神鹤",child:[{gid:1,title:"神鹤轻强硬",desc:"超轻量综合28调",minPrice:309,maxPrice:499},{gid:2,title:"神鹤战斗极",desc:"超轻量休闲黑坑大物19调",minPrice:399,maxPrice:569}]},{label:"金迦潘",child:[{gid:11,title:"金迦潘强弓",desc:"超轻量综合19调",minPrice:399,maxPrice:609},{gid:12,title:"金迦潘硬弓",desc:"超轻量综合大19调",minPrice:509,maxPrice:709},{gid:13,title:"金迦潘求败",desc:"超轻量战斗大19调",minPrice:609,maxPrice:809},{gid:14,title:"金迦潘引领",desc:"超超轻量综合28调",minPrice:609,maxPrice:809}]},{label:"财神",child:[{gid:21,title:"财神超硬调",desc:"超轻量鲫竿28调",minPrice:399,maxPrice:529},{gid:22,title:"财神轻细硬",desc:"超轻超细综合28调",minPrice:518,maxPrice:679},{gid:23,title:"财神鲤硬调",desc:"超轻量鲤竿大28调",minPrice:588,maxPrice:858},{gid:24,title:"财神竞技-礼",desc:"超轻量竞技19调6H",minPrice:1050,maxPrice:1299},{gid:25,title:"财神终极版-桃园",desc:"超轻量综合大19调",minPrice:1450,maxPrice:1799},{gid:26,title:"财神大师版-宫本武藏",desc:"超轻量综合大19调",minPrice:1050,maxPrice:1399},{gid:27,title:"财神鲤硬调五周年纪念版",desc:"超轻量鲤竿大28调",minPrice:1039,maxPrice:1239}]},{label:"棍王",child:[{gid:31,title:"棍王强攻",desc:"超轻量黑坑19调5H",minPrice:468,maxPrice:589},{gid:32,title:"棍王硬攻",desc:"超轻量黑坑19调6H",minPrice:499,maxPrice:599},{gid:33,title:"棍王力攻",desc:"超轻量黑坑19调7H",minPrice:529,maxPrice:609},{gid:34,title:"棍王暴攻",desc:"超轻量黑坑19调8H",minPrice:539,maxPrice:619}]},{label:"爆草",child:[{gid:41,title:"爆草高级定制",desc:"暴力大物巨物竿19调",minPrice:489,maxPrice:729},{gid:42,title:"爆草加强版",desc:"重暴力大物巨物竿19调",minPrice:618,maxPrice:899},{gid:43,title:"爆草青鲟版",desc:"强暴力大物巨物19调",minPrice:698,maxPrice:1298},{gid:44,title:"爆草所长版",desc:"8、9、10、11、12、13、14、15米超长竿",minPrice:609,maxPrice:899}]},{label:"神棍",child:[{gid:51,title:"大显神通-鲫",desc:"手作超轻量鲫竿28调",minPrice:549,maxPrice:759},{gid:52,title:"大显神通普惠版",desc:"手作超轻量综合28调",minPrice:289,maxPrice:409},{gid:53,title:"大显神通超硬调",desc:"手作超轻量综合28调",minPrice:499,maxPrice:809},{gid:54,title:"神棍-超硬调",desc:"手作超轻量综合28调",minPrice:1199,maxPrice:1999},{gid:55,title:"神乎其技吴郭版",desc:"手作超轻量罗非竿6H7H8H",minPrice:1199,maxPrice:1499}]},{label:"汀神",child:[{gid:61,title:"汀神轻硬",desc:"超轻量综合19调",minPrice:3388,maxPrice:5188},{gid:62,title:"汀神轻硬大物-青鲟版",desc:"强暴力大物巨物19调",minPrice:1199,maxPrice:2059},{gid:63,title:"汀神限量版",desc:"超超轻量鲤竿28调",minPrice:9999,maxPrice:15e3}]},{label:"池霸",child:[{gid:71,title:"池霸-仁",desc:"超轻量黑坑19调7H",minPrice:858,maxPrice:988},{gid:72,title:"池霸-义",desc:"暴力黑坑19调7H",minPrice:758,maxPrice:888},{gid:73,title:"池霸吴郭版",desc:"超轻量罗非竿6H7H8H",minPrice:838,maxPrice:898}]},{label:"天弧",child:[{gid:81,title:"天弧斩月刀-黑白版",desc:"轻量鲤竿28调",minPrice:179,maxPrice:249},{gid:82,title:"天弧斩月刀-黑金版",desc:"轻量鲤竿28调",minPrice:169,maxPrice:239},{gid:83,title:"天弧斩月刀-黑银版",desc:"超轻量鲤竿28调",minPrice:248,maxPrice:368},{gid:84,title:"天弧斩月刀-尊贵版",desc:"超轻量综合19调",minPrice:1299,maxPrice:1999}]},{label:"超长（8-15米）",child:[{gid:91,title:"老首长谦喜版",desc:"",minPrice:799,maxPrice:1219},{gid:92,title:"老首长谦善版",desc:"",minPrice:1099,maxPrice:1799},{gid:93,title:"老首长谦逊版",desc:"",minPrice:1599,maxPrice:2299}]},{label:"并继",child:[{gid:201,title:"咏春并继",desc:"并继鲫硬调37",minPrice:339,maxPrice:599},{gid:202,title:"傲江雪并继",desc:"并继鲤硬调28",minPrice:348,maxPrice:778},{gid:203,title:"傲江雪-竹",desc:"并继鲫硬调46",minPrice:5999,maxPrice:5999},{gid:204,title:"青衫隐-竹",desc:"并继鲫硬调46",minPrice:6999,maxPrice:6999},{gid:205,title:"剑心藏-竹",desc:"并继鲫硬调46",minPrice:5999,maxPrice:5999}]},{label:"销魂单品",child:[{gid:101,title:"炎之",desc:"超轻量鲫竿37偏28调",minPrice:299,maxPrice:429},{gid:102,title:"竞鲫",desc:"超轻量超细身鲫竿28调",minPrice:619,maxPrice:729},{gid:103,title:"彪悍综合系列",desc:"超轻量综合28调",minPrice:199,maxPrice:329},{gid:104,title:"神乐暴强硬",desc:"超轻量综合大二八偏19调",minPrice:349,maxPrice:550},{gid:105,title:"宗师",desc:"超轻量鲤竿28调",minPrice:239,maxPrice:369},{gid:106,title:"潇裟狂强弩",desc:"超轻量综合大19调",minPrice:569,maxPrice:799},{gid:107,title:"银棍",desc:"超超轻量综合大二八偏19调",minPrice:799,maxPrice:1099},{gid:108,title:"红花金棍吴郭版",desc:"超轻量罗非竿7H",minPrice:428,maxPrice:550},{gid:109,title:"彪悍黑坑技",desc:"轻量黑坑19调5H6H7H",minPrice:239,maxPrice:299},{gid:110,title:"红环黑棍--战斗",desc:"超轻量黑坑19调7H",minPrice:738,maxPrice:968},{gid:111,title:"神乐暴强硬-手作",desc:"超轻量综合19调",minPrice:1199,maxPrice:1999},{gid:112,title:"傲江雪特作",desc:"超超轻量综合大28调",minPrice:1599,maxPrice:3699},{gid:113,title:"傲江雪手作",desc:"超超轻量综合大28调，每个尺寸减500",minPrice:1899,maxPrice:3999},{gid:114,title:"火舞超硬调",desc:"超轻量综合28调",minPrice:3188,maxPrice:5188}]}],R=function(e,t){var a=t.$,r=e.className,i=a.getState("_affixTabs").page,o=a.getState("userInfo").userId,c=a.getState("comment");return n.a.createElement("div",{className:E()("style-890137",r)},n.a.createElement(s.a,{tabs:o?L:C,page:i,onTabClick:a.page.onTabClick},n.a.createElement(s.v,{data:c,renderRow:function(e){return n.a.createElement(T,e)},renderEmpty:n.a.createElement(s.i,null,"来抢沙发吧..."),onEndReached:a.fetch.comment})))};R.contextTypes={$:o.a.object};var F=Object(c.d)(R),$=a(23),z=a.n($),D=a(28),U=a.n(D),W=function(e,t){var a=t.$,r=e.className,i=a.getState("detail").guessingData,o=void 0===i?{}:i,c=o.competitionPlayers,m=void 0===c?[]:c,d=o.competitionBettingEnd,u=o.competitionWinner,p=f.a.getTimestamp()<d&&!a.isCompetitionEnd,y=m.length?m.map(function(e){return e.amount}).reduce(function(e,t){return e+t}):0,g={};return m.forEach(function(e){if(y){var t=(e.amount/y).toFixed(2),a=t;t=Math.max(t,.05),t=Math.min(t,.95),g[e.id]={percent:t,realPercent:a}}else g[e.id]={percent:.1,realPercent:0}}),n.a.createElement("div",{className:j.a.dynamic([["2669028866",["style-158725","style-158725"]],["2828492371",[S.a.radius_xs,S.a.radius_xs,S.a.color_primary,S.a.radius_xs]]])+" "+(E()("style-158725",r)||"")},n.a.createElement(l.i,{title:"参赛选手"}),m.length?n.a.createElement(z.a,null,m.map(function(e,t){return n.a.createElement(z.a.Item,{key:e.id,wrap:!0,thumb:n.a.createElement(s.q,{src:e.avatar,circle:!0})},n.a.createElement(N.a,null,n.a.createElement(N.a.Item,null,n.a.createElement(N.a,null,n.a.createElement(U.a,{text:t+1,style:{backgroundColor:S.a.color_primary,borderRadius:2}}),n.a.createElement("span",{className:j.a.dynamic([["2669028866",["style-158725","style-158725"]],["2828492371",[S.a.radius_xs,S.a.radius_xs,S.a.color_primary,S.a.radius_xs]]])+" t-30 l-44 ml-xs"},e.name)),n.a.createElement("p",{className:j.a.dynamic([["2669028866",["style-158725","style-158725"]],["2828492371",[S.a.radius_xs,S.a.radius_xs,S.a.color_primary,S.a.radius_xs]]])+" t-24 l-36 t-sub"},e.description)),n.a.createElement("div",{onClick:p?void 0:function(){return f.a.light("当前不可支持")},className:j.a.dynamic([["2669028866",["style-158725","style-158725"]],["2828492371",[S.a.radius_xs,S.a.radius_xs,S.a.color_primary,S.a.radius_xs]]])+" wrap-btn ml-sm"},p?n.a.createElement(s.c,{className:"".concat("style-158725","__btn-betting"),inline:!0,size:"sm",onClick:function(){return f.a.checkLogin(function(){return a.page.showBettingModal(e)})}},"支持TA"):n.a.createElement(s.c,{className:"".concat("style-158725","__btn-betting"),inline:!0,disabled:!0,size:"sm"},"支持TA"),n.a.createElement("div",{style:{width:"".concat(100*g[e.id].percent,"%")},className:j.a.dynamic([["2669028866",["style-158725","style-158725"]],["2828492371",[S.a.radius_xs,S.a.radius_xs,S.a.color_primary,S.a.radius_xs]]])+" line"}),e.id===u&&n.a.createElement("img",{src:"".concat(O,"/winner.png"),alt:"",className:j.a.dynamic([["2669028866",["style-158725","style-158725"]],["2828492371",[S.a.radius_xs,S.a.radius_xs,S.a.color_primary,S.a.radius_xs]]])+" img-winner"}))))})):n.a.createElement(s.i,null,"参赛选手暂未录入"),n.a.createElement(j.a,{styleId:"2669028866",css:".".concat("style-158725","__btn-betting{vertical-align:top;overflow:initial;}.").concat("style-158725","__btn-betting span{padding-bottom:0.04rem;}"),dynamic:["style-158725","style-158725"]}),n.a.createElement(j.a,{styleId:"2828492371",css:".wrap-btn.__jsx-style-dynamic-selector{position:relative;padding:0.02rem;}.line.__jsx-style-dynamic-selector{display:inline-block;position:absolute;bottom:".concat(S.a.radius_xs,";left:").concat(S.a.radius_xs,";height:0.04rem;background:").concat(S.a.color_primary,";border-radius:").concat(S.a.radius_xs,";}.img-winner.__jsx-style-dynamic-selector{position:absolute;top:50%;right:1.44rem;width:auto;height:0.8rem;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);}"),dynamic:[S.a.radius_xs,S.a.radius_xs,S.a.color_primary,S.a.radius_xs]}))};W.contextTypes={$:o.a.object};var Y=Object(c.d)(W),V=function(e,t){var a=t.$,r=e.className,i=a.getState("userInfo").userId,o=a.getState("detail").guessingData,c=(void 0===o?{}:o).competitionPlayers,m=void 0===c?[]:c,d=a.getState("competitionRecord"),u=a.getState("_competition").isMe,p={},y=0;return m.forEach(function(e,t){p[e.id]={index:t+1,name:e.name},y+=e.amount}),n.a.createElement("div",{className:E()("style-157883",r)},n.a.createElement(l.i,{title:"支持记录",desc:u?"".concat(d.pageinfo.recordtotal,"人次支持"):"".concat(d.pageinfo.recordtotal,"人次支持，共").concat(f.a.formatNumber(y,0)).concat(a.competitionTypeLabel),extra:!!i&&n.a.createElement(N.a,{onClick:a.page.toggleCompetitionRecord},n.a.createElement("span",{className:"t-30 l-42 t-sub"},u?"全部":"我的"),n.a.createElement(s.p,{className:"t-40 t-sub",type:"right"}))}),d.list.length?n.a.createElement(z.a,null,d.list.map(function(e,t){return n.a.createElement(z.a.Item,{key:t,wrap:!0,thumb:n.a.createElement(l.c,{userId:e.user_id,img:e.avatar})},n.a.createElement(N.a,null,n.a.createElement(N.a.Item,null,n.a.createElement("p",{className:"t-30 l-44"},e.name),n.a.createElement("p",{className:"t-24 l-36 t-sub"},f.a.date("m-d H:i:s",e.created_at))),n.a.createElement("div",null,n.a.createElement(N.a,{justify:"end"},n.a.createElement(U.a,{text:p[e.player_id].index,style:{backgroundColor:S.a.color_primary,borderRadius:2}}),n.a.createElement("span",{className:"t-30 l-44 ml-xs"},p[e.player_id].name)),n.a.createElement("p",{className:"t-24 l-36 t-primary t-r"},"+",f.a.formatNumber(e.amount,0),a.competitionTypeLabel))))}),d._hasMore&&n.a.createElement(z.a.Item,{onClick:a.fetch.competitionRecord},n.a.createElement("p",{className:"t-30 l-44 t-sub t-c"},"点击加载更多"))):n.a.createElement(s.i,null,"没有记录"))};V.contextTypes={$:o.a.object};var Z=Object(c.d)(V),q=function(e,t){var a=t.$,r=e.className,i=a.getState("userInfo").userId,o=a.getState("detail").guessingData,c=void 0===o?{}:o,m=c.competitionPlayers,d=void 0===m?[]:m,u=c.competitionPump,p=c.competitionWinner,y=a.getState("competitionAward"),g=a.getState("_competition").isMe,b={},h=0;return d.forEach(function(e,t){b[e.id]={index:t+1,name:e.name},e.id!=p&&(h+=e.amount)}),h=Math.ceil(h*(1-u)),n.a.createElement("div",{className:E()("style-567803",r)},n.a.createElement(l.i,{title:"中奖记录",desc:g?"".concat(y.pageinfo.recordtotal,"人次支持"):"".concat(y.pageinfo.recordtotal,"人次瓜分掉").concat(f.a.formatNumber(h,0)).concat(a.competitionTypeLabel),extra:!!i&&n.a.createElement(N.a,{onClick:a.page.toggleCompetitionAward},n.a.createElement("span",{className:"t-30 l-42 t-sub"},g?"全部":"我的"),n.a.createElement(s.p,{className:"t-40 t-sub",type:"right"}))}),y.list.length?n.a.createElement(z.a,null,y.list.map(function(e,t){return n.a.createElement(z.a.Item,{key:t,wrap:!0,thumb:n.a.createElement(l.c,{userId:e.user_id,img:e.avatar})},n.a.createElement(N.a,null,n.a.createElement(N.a.Item,null,n.a.createElement("p",{className:"t-30 l-44"},e.name),n.a.createElement("p",{className:"t-24 l-36 t-sub"},f.a.date("m-d H:i:s",e.created_at))),n.a.createElement("p",{className:"t-24 t-r"},n.a.createElement("span",{className:"t-sub"},"返还",f.a.formatNumber(e.amount,0)),n.a.createElement("span",{className:"t-sub ml-xs"},"+"),n.a.createElement("span",{className:"t-danger ml-xs"},f.a.formatNumber(e.bonus-e.amount,0),a.competitionTypeLabel))))}),y._hasMore&&n.a.createElement(z.a.Item,{onClick:a.fetch.competitionAward},n.a.createElement("p",{className:"t-30 l-44 t-sub t-c"},"点击加载更多"))):n.a.createElement(s.i,null,"没有记录"))};q.contextTypes={$:o.a.object};var B=Object(c.d)(q),J=function(e,t){var a=t.$,r=e.className,i=a.getState("detail").guessingData,o=void 0===i?{}:i,c=a.getState("_payConfirm"),l=c.show,m=c.type,d=c.amount;return o.competition?n.a.createElement(n.a.Fragment,null,n.a.createElement(Y,{className:r}),a.isCompetitionEnd?n.a.createElement(B,{className:"mt-d"}):n.a.createElement(Z,{className:"mt-d"}),!a.isCompetitionEnd&&n.a.createElement(s.y,{show:l,type:m,amount:d,onClose:a.hidePayConfirm,onConfirm:a.doBetting})):null};J.contextTypes={$:o.a.object};var Q=Object(c.d)(J),G=function(e,t){var a=t.$,r=e.className,i=a.getState("userInfo").isFav,o=a.getState("detail").likeAdd,c=a.getState("score"),l=c.list,m=c.allnum,d=1==i;return n.a.createElement("div",{className:j.a.dynamic([["3934711823",["style-385269","style-385269",S.a.color_theme,"style-385269","style-385269","style-385269","style-385269"]],["4166834611",[S.a._full]]])+" "+(E()("style-385269",r)||"")},n.a.createElement(N.a,{justify:"center"},n.a.createElement(s.c,{size:"sm",ghost:!0,inline:!0,onClick:function(){return f.a.checkLogin(function(){d?f.a.onPrompt("红人加积分",a.do.addScoreHongren,1,"可根据帖子质量加1-10积分"):f.a.onConfirm("确定给作者加积分?",a.do.addScore)})}},n.a.createElement(N.a,{style:{height:"100%"}},n.a.createElement(s.p,{className:"t-30 t-title",type:"plus-circle"}),n.a.createElement("span",{className:j.a.dynamic([["3934711823",["style-385269","style-385269",S.a.color_theme,"style-385269","style-385269","style-385269","style-385269"]],["4166834611",[S.a._full]]])+" t-30 l-56 t-title ml-16"},"加分"))),n.a.createElement(s.c,{className:"ml-32",type:a.isLike?"primary":"default",size:"sm",ghost:!0,inline:!0,onClick:function(){return f.a.checkLogin(a.do.toggleLike)}},n.a.createElement(N.a,{style:{height:"100%"}},n.a.createElement(s.p,{className:E()("t-30",{"t-title":!a.isLike,"t-primary":a.isLike}),type:"hand"}),n.a.createElement("span",{className:j.a.dynamic([["3934711823",["style-385269","style-385269",S.a.color_theme,"style-385269","style-385269","style-385269","style-385269"]],["4166834611",[S.a._full]]])+" t-30 ml-16"},o||"点赞")))),!!l.length&&n.a.createElement(N.a,{className:"".concat("style-385269","__wrap-avatar mt-42"),justify:"center",wrap:"wrap"},l.map(function(e){return n.a.createElement(s.q,{key:e.userId,className:"".concat("style-385269","__avatar"),src:e.faceImg,size:"0.64rem",circle:!0},n.a.createElement("span",{className:j.a.dynamic([["3934711823",["style-385269","style-385269",S.a.color_theme,"style-385269","style-385269","style-385269","style-385269"]],["4166834611",[S.a._full]]])+" point t-32 t-void t-c"},e.point))}),n.a.createElement("span",{className:j.a.dynamic([["3934711823",["style-385269","style-385269",S.a.color_theme,"style-385269","style-385269","style-385269","style-385269"]],["4166834611",[S.a._full]]])+" t-30 l-64 t-sub ml-8 mt-4"},m,"人加分")),n.a.createElement(j.a,{styleId:"3934711823",css:".".concat("style-385269","__wrap-avatar{padding:0 12%;}.").concat("style-385269","__avatar{margin:0.04rem 0 0 -0.2rem;border:0.04rem solid ").concat(S.a.color_theme,";}.").concat("style-385269","__avatar:active,.").concat("style-385269","__avatar:hover{z-index:1;}.").concat("style-385269","__avatar:active .point,.").concat("style-385269","__avatar:hover .point{opacity:1;}"),dynamic:["style-385269","style-385269",S.a.color_theme,"style-385269","style-385269","style-385269","style-385269"]}),n.a.createElement(j.a,{styleId:"4166834611",css:".point.__jsx-style-dynamic-selector{".concat(S.a._full,";z-index:1;line-height:0.56rem;background:rgba(0,0,0,0.64);-webkit-transition:opacity 0.3s;transition:opacity 0.3s;opacity:0;}"),dynamic:[S.a._full]}))};G.contextTypes={$:o.a.object};var K=Object(c.d)(G),X=function(e,t){var a,r,i,o,c=t.$,l=e.className,m=c.params.params.id,d=c.getState("detail").registrationData,u=void 0===d?{}:d,p=c.getState("registration");if(!u.id)return null;if(1!=u.status)a="default",i="活动未开启";else{var y=parseInt(u.start_time),g=parseInt(u.end_time),b=f.a.getTimestamp();if(b<y)a="default",i="活动将于".concat(f.a.date("m-d H:i:s",y),"开始报名");else if(b>=y&&b<g)if(p.id)switch(parseInt(p.status)){case 1:a="danger",i="重新报名",o=function(){return f.a.router.push("/person/event/registration")};break;case 2:case 3:case 4:case 5:a="wait",i="报名成功，请等待活动开始",o=function(){return f.a.router.push("/person/event/registration")};break;default:a="wait",i="前面还有".concat(p.waiting_num,"人排队，请等待审核..."),o=function(){return f.a.router.push("/person/event/registration")}}else{var h=parseInt(u.num)-parseInt(u.joinNum);h?(a="danger",i="还剩".concat(h,"个报名名额，立即报名"),o=function(){return f.a.router.push("/bbs/registration?id=".concat(m),"/bbs/registration/".concat(m))}):(a="default",r=!0,i="名额已抢光")}else switch(parseInt(p.status)){case 2:a="primary",i="活动进行中，请提交订单",o=function(){return f.a.router.push("/bbs/registration?id=".concat(m),"/bbs/registration/".concat(m))};break;case 3:a="wait",i="订单已提交，待审核",o=function(){return f.a.router.push("/person/event/registration")};break;case 4:a="danger",i="订单审核失败，请重新提交",o=function(){return f.a.router.push("/person/event/registration")};break;case 5:a="primary",i="订单审核成功，请等待发放奖励",o=function(){return f.a.router.push("/person/event/registration")};break;default:a="default",r=!0,i="活动已结束"}}return n.a.createElement("div",{className:E()("style-124445",l)},n.a.createElement(s.c,{type:a,disabled:r,onClick:function(){return f.a.checkLogin(o)}},i),n.a.createElement("p",{className:"t-28 l-40 t-c mt-md"},n.a.createElement("span",{className:"t-sub"},"审核中："),n.a.createElement("span",{className:"t-danger"},u.waitNum),n.a.createElement("span",{className:"t-sub"}," / 已通过："),n.a.createElement("span",{className:"t-danger"},u.successNum)),n.a.createElement("p",{className:"t-28 l-40 t-c mt-d"},n.a.createElement("span",{className:"t-sub"},"不合格："),n.a.createElement("span",{className:"t-danger"},u.failNum),n.a.createElement("span",{className:"t-sub"}," / 已报名："),n.a.createElement("span",{className:"t-danger"},u.joinNum),n.a.createElement("span",{className:"t-sub"}," / 总名额："),n.a.createElement("span",{className:"t-danger"},u.passNum)),n.a.createElement("div",{className:"t-c mt-lg"},n.a.createElement(s.t,{className:"tool-link",href:"/person/event/registration",login:!0},"前往我的活动")))};X.contextTypes={$:o.a.object};var ee=Object(c.d)(X),te=function(e,t){var a,r=t.$,i=e.className,o=r.getState("detail"),c=o.json,l=o.title,d=o.content,u=o.viewNum,p=o._loaded;if(c){var y;if(m.a.__WX__){var g=[];try{c&&(g=f.a.getRealDraftEntityMap(JSON.parse(c),!0))}catch(e){var b=r.params.params.id;console.error("[JSON.parse Draft data error.][threadId: ".concat(b,"]"))}y=g.length?g[0]:m.a.__SHARE_IMG__,setTimeout(function(){f.a.wxShareUpdate({title:l,desc:f.a.getCharFilterEmoji(f.a.removeHTMLTag(d)),imgUrl:f.a.getAppImgUrl(y)})},1e3)}a=n.a.createElement(s.B,{className:"t-34 l-48 t-title",data:c,readOnly:!0,imgView:!0})}return n.a.createElement("div",{className:j.a.dynamic([["3668877077",[S.a.wind,S.a.color_theme]]])+" "+(E()("style-175060",i)||"")},n.a.createElement("div",{style:{minHeight:p?"64vw":"100vh"},className:j.a.dynamic([["3668877077",[S.a.wind,S.a.color_theme]]])+" user-select"},a||n.a.createElement(s.g,{className:"t-34 l-48 t-title",html:{__html:d},imgView:!0})),p&&n.a.createElement(s.s,{onDidMount:r.fetch.lazy.score},n.a.createElement(K,{className:"mt-60"})),n.a.createElement(ee,{className:"mt-60"}),u&&n.a.createElement("p",{className:j.a.dynamic([["3668877077",[S.a.wind,S.a.color_theme]]])+" t-28 l-40 mt-60"},n.a.createElement("span",{className:j.a.dynamic([["3668877077",[S.a.wind,S.a.color_theme]]])+" t-primary"},u),n.a.createElement("span",{className:j.a.dynamic([["3668877077",[S.a.wind,S.a.color_theme]]])+" t-sub ml-xs"},"人次查看")),n.a.createElement(j.a,{styleId:"3668877077",css:".style-175060.__jsx-style-dynamic-selector{position:relative;padding:0.4rem ".concat(S.a.wind," 0.32rem;background:").concat(S.a.color_theme,";}"),dynamic:[S.a.wind,S.a.color_theme]}))};te.contextTypes={$:o.a.object};var ae=Object(c.d)(te),re=function(e,t){var a=t.$,r=e.className,i=a.getState("_egg"),o=i.show,c=i.step,l=i.type,m=i.value;return n.a.createElement("div",{className:"jsx-2775431736 "+(E()("style-204096",r)||"")},n.a.createElement(s.b,{type:"fade"},o&&n.a.createElement(N.a,{className:"am-modal-mask",justify:"center",onClick:c<2?a.page.onEggKnock:a.page.hideEggMask},c>=2&&n.a.createElement("img",{src:"".concat(O,"/light.png"),alt:"",className:"jsx-2775431736 img-light"}),c<=1&&n.a.createElement("img",{src:"".concat(O,"/egg1.png"),alt:"",className:"jsx-2775431736 img-egg rotate"}),c>=2&&n.a.createElement("img",{src:"".concat(O,"/egg2.png"),alt:"",className:"jsx-2775431736 img-egg"}),c<=1&&n.a.createElement("img",{src:"".concat(O,"/hammer.png"),alt:"",className:"jsx-2775431736 "+(E()("img-hammer",{knock:1===c})||"")}),c>=2&&n.a.createElement("p",{className:"jsx-2775431736 p-desc t-36 t-void float"},"获得彩蛋奖励",m,2==l?"金币":"积分"))),n.a.createElement(j.a,{styleId:"2775431736",css:".img-light.jsx-2775431736{position:absolute;top:50%;left:50%;width:2.32rem;height:1.45rem;margin-top:-1.36rem;margin-left:-1.16rem;-webkit-animation:scale-jsx-2775431736 2s ease-in-out infinite;animation:scale-jsx-2775431736 2s ease-in-out infinite;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-direction:alternate;animation-direction:alternate;}.img-egg.jsx-2775431736{width:1.58rem;height:1.87rem;}.img-hammer.jsx-2775431736{position:absolute;top:50%;left:50%;width:0.74rem;height:0.87rem;margin-top:-1.2rem;margin-left:0.48rem;}.p-desc.jsx-2775431736{position:absolute;top:50%;left:50%;text-shadow:0.02rem 0.02rem 0.04rem rgba(0,0,0,0.24);}.rotate.jsx-2775431736{-webkit-transform-origin:50% 100%;-ms-transform-origin:50% 100%;transform-origin:50% 100%;-webkit-animation:am-rotate-jsx-2775431736 2s linear infinite;animation:am-rotate-jsx-2775431736 2s linear infinite;-webkit-animation-fill-mode:both;animation-fill-mode:both;}.knock.jsx-2775431736{-webkit-animation:am-knock-jsx-2775431736 1.2s ease-in;animation:am-knock-jsx-2775431736 1.2s ease-in;-webkit-animation-fill-mode:both;animation-fill-mode:both;}.scale.jsx-2775431736{-webkit-animation:am-scale-jsx-2775431736 1.2s ease-in-out;animation:am-scale-jsx-2775431736 1.2s ease-in-out;-webkit-animation-fill-mode:both;animation-fill-mode:both;}.float.jsx-2775431736{-webkit-animation:am-float-jsx-2775431736 0.8s ease-in-out;animation:am-float-jsx-2775431736 0.8s ease-in-out;-webkit-animation-fill-mode:both;animation-fill-mode:both;}@-webkit-keyframes am-scale-jsx-2775431736{0%{opacity:1;-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2);}100%{opacity:0.64;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}}@keyframes am-scale-jsx-2775431736{0%{opacity:1;-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2);}100%{opacity:0.64;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}}@-webkit-keyframes am-rotate-jsx-2775431736{0%{-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);}10%{-webkit-transform:rotate(6deg);-ms-transform:rotate(6deg);transform:rotate(6deg);}40%{-webkit-transform:rotate(-6deg);-ms-transform:rotate(-6deg);transform:rotate(-6deg);}50%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}100%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}}@keyframes am-rotate-jsx-2775431736{0%{-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);}10%{-webkit-transform:rotate(6deg);-ms-transform:rotate(6deg);transform:rotate(6deg);}40%{-webkit-transform:rotate(-6deg);-ms-transform:rotate(-6deg);transform:rotate(-6deg);}50%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}100%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}}@-webkit-keyframes am-knock-jsx-2775431736{20%{-webkit-transform:translate(-10%,-30%);-ms-transform:translate(-10%,-30%);transform:translate(-10%,-30%);}40%{-webkit-transform:translate(-60%,60%) rotate(-30deg);-ms-transform:translate(-60%,60%) rotate(-30deg);transform:translate(-60%,60%) rotate(-30deg);}48%{-webkit-transform:translate(-54%,54%) rotate(-24deg);-ms-transform:translate(-54%,54%) rotate(-24deg);transform:translate(-54%,54%) rotate(-24deg);}100%{-webkit-transform:translate(-54%,54%) rotate(-24deg);-ms-transform:translate(-54%,54%) rotate(-24deg);transform:translate(-54%,54%) rotate(-24deg);}}@keyframes am-knock-jsx-2775431736{20%{-webkit-transform:translate(-10%,-30%);-ms-transform:translate(-10%,-30%);transform:translate(-10%,-30%);}40%{-webkit-transform:translate(-60%,60%) rotate(-30deg);-ms-transform:translate(-60%,60%) rotate(-30deg);transform:translate(-60%,60%) rotate(-30deg);}48%{-webkit-transform:translate(-54%,54%) rotate(-24deg);-ms-transform:translate(-54%,54%) rotate(-24deg);transform:translate(-54%,54%) rotate(-24deg);}100%{-webkit-transform:translate(-54%,54%) rotate(-24deg);-ms-transform:translate(-54%,54%) rotate(-24deg);transform:translate(-54%,54%) rotate(-24deg);}}@-webkit-keyframes am-float-jsx-2775431736{0%{-webkit-transform:translate(-50%,-50%) scale(0);-ms-transform:translate(-50%,-50%) scale(0);transform:translate(-50%,-50%) scale(0);}100%{-webkit-transform:translate(-50%,-500%) scale(1);-ms-transform:translate(-50%,-500%) scale(1);transform:translate(-50%,-500%) scale(1);}}@keyframes am-float-jsx-2775431736{0%{-webkit-transform:translate(-50%,-50%) scale(0);-ms-transform:translate(-50%,-50%) scale(0);transform:translate(-50%,-50%) scale(0);}100%{-webkit-transform:translate(-50%,-500%) scale(1);-ms-transform:translate(-50%,-500%) scale(1);transform:translate(-50%,-500%) scale(1);}}"}))};re.contextTypes={$:o.a.object};var ne,ie,oe,ce=Object(c.d)(re);function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fe=Object(c.d)((oe=ie=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),me(this,de(t).apply(this,arguments))}var a,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,n.a.Component),a=t,(r=[{key:"componentWillUnmount",value:function(){this.context.$.page.hideFixedTextarea()}},{key:"render",value:function(){var e=this.props.className,t=this.context.$,a=t.getState("_fixedTextarea"),r=a.show,i=a.placeholder,o=a.onSubmit;return n.a.createElement(n.a.Fragment,null,n.a.createElement(s.k,{show:r,placeholder:i,showUploadPicButton:!0,onSubmit:o,onClose:t.page.hideFixedTextarea}),!r&&n.a.createElement(s.j,{className:E()("style-774800",e),onInputClick:t.page.onCommentClick},n.a.createElement(s.p,{className:"t-48",type:"gift",onClick:function(){return f.a.checkLogin(t.page.showReward)}})))}}])&&le(a.prototype,r),i&&le(a,i),t}(),ie.contextTypes={$:o.a.object},ne=oe))||ne,pe=function(e,t){var a,r=t.$,i=e.className,o=r.getState("detail"),c=o.title,m=o.registrationData,d=o.displayState,u=o.userId,p=o.faceImg,y=o.niname,g=o.grade,b=o.fanAuth,h=o.createTime;return m?a="活动":parseInt(d)>0&&(a="置顶"),n.a.createElement("div",{className:j.a.dynamic([["3261871939",[S.a.wind,S.a.color_theme]]])+" "+(E()("style-144680",i)||"")},n.a.createElement("h4",{className:j.a.dynamic([["3261871939",[S.a.wind,S.a.color_theme]]])+" t-40 l-56 t-b"},a&&n.a.createElement("span",{className:j.a.dynamic([["3261871939",[S.a.wind,S.a.color_theme]]])+" t-danger"},a," · "),n.a.createElement("span",{className:j.a.dynamic([["3261871939",[S.a.wind,S.a.color_theme]]])},c)),n.a.createElement(s.l,{className:"mt-40"},n.a.createElement(s.l.Item,null,n.a.createElement(l.b,{userId:u,img:p,name:y,level:g,fansAuth:b,date:h&&f.a.date("y-m-d H:i:s",h)}))),n.a.createElement(j.a,{styleId:"3261871939",css:".style-144680.__jsx-style-dynamic-selector{padding:0.16rem ".concat(S.a.wind," 0;background:").concat(S.a.color_theme,";}"),dynamic:[S.a.wind,S.a.color_theme]}))};pe.contextTypes={$:o.a.object};var ye=Object(c.d)(pe),ge=function(e,t){var a=t.$,r=a.getState("detail"),i=r._loaded,o=r.threadId,c=r.title,l=r.json,d=r.content;if(!i)return null;var u=m.a.__SHARE_IMG__;if(l){var p=f.a.getRealDraftEntityMap(l);u=p.length?p[0]:m.a.__SHARE_IMG__}return n.a.createElement(s.o,{show:!0,bd:null,ft:n.a.createElement(s.l,null,n.a.createElement(s.p,{className:E()("t-34 t-b",{"t-title":!a.isFavor,"t-primary":a.isFavor}),type:"favor-fill",onClick:function(){return f.a.checkLogin(a.do.toggleFavor)}}),n.a.createElement(s.w,{className:"ml-32",config:{icon:u,link:"".concat(m.a.__WEB__,"/bbs/article/").concat(o),title:c,desc:f.a.removeHTMLTag(d)},actionSheetConfig:{message:"分享邀请链接到"}},n.a.createElement(s.p,{className:"t-34 t-title t-b",type:"share-fill"})))})};ge.contextTypes={$:o.a.object};var be=Object(c.d)(ge),he=function(e,t){var a=t.$,r=a.getState("_reward").show;return n.a.createElement(s.A,{show:r,onCancel:a.page.hideReward,onSuccess:a.do.reward})};he.contextTypes={$:o.a.object};var _e=Object(c.d)(he),we=function(e,t){var a=t.$,r=e.className,i=a.getState("reward");return i.list.length?n.a.createElement("div",{className:j.a.dynamic([["2268273108",[S.a.bottom,S.a.color_theme,S.a.wind]]])+" "+(E()("style-214801",r)||"")},n.a.createElement(l.i,{title:"打赏记录"}),n.a.createElement("div",{className:j.a.dynamic([["2268273108",[S.a.bottom,S.a.color_theme,S.a.wind]]])+" wrap tool-wrap-scroll"},i.list.map(function(e){return n.a.createElement("div",{key:e.tbId,className:j.a.dynamic([["2268273108",[S.a.bottom,S.a.color_theme,S.a.wind]]])+" item t-c"},n.a.createElement("img",{src:f.a.getImgUrl(e.goodsImg),alt:"",className:j.a.dynamic([["2268273108",[S.a.bottom,S.a.color_theme,S.a.wind]]])+" img-gift"}),n.a.createElement("p",{className:j.a.dynamic([["2268273108",[S.a.bottom,S.a.color_theme,S.a.wind]]])+" t-28 t-primary t-c1"},e.title),n.a.createElement("p",{className:j.a.dynamic([["2268273108",[S.a.bottom,S.a.color_theme,S.a.wind]]])+" t-24 t-c1"},e.userName))})),n.a.createElement(j.a,{styleId:"2268273108",css:".style-214801.__jsx-style-dynamic-selector{padding-bottom:".concat(S.a.bottom,";background:").concat(S.a.color_theme,";}.wrap.__jsx-style-dynamic-selector{padding:0 ").concat(S.a.wind,";}.item.__jsx-style-dynamic-selector{display:inline-block;}.item.__jsx-style-dynamic-selector:not(:last-child){margin-right:0.16rem;}.img-gift.__jsx-style-dynamic-selector{width:auto;height:0.98rem;}"),dynamic:[S.a.bottom,S.a.color_theme,S.a.wind]})):null};we.contextTypes={$:o.a.object};var ve,xe=Object(c.d)(we),Ee=a(148),ke=a.n(Ee);function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function je(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return!t||"object"!==Ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Oe=10,Ce=Object(c.d)(ve=function(e){function t(){var e,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Se(this,(e=Ie(t)).call.apply(e,[this].concat(n)))).state={selected:[],fixed:!1,active:M[0]},a.refRoot=void 0,a.refNav=void 0,a.refNavFixed=void 0,a.navTop=0,a.navWidth=[0],a.navHeight=0,a.tagHeight=[],a.fixed=ke()(function(){var e=a.state,t=e.fixed,r=e.active;a.refRoot.scrollTop>a.navTop+a.navHeight?t||a.setState({fixed:!0}):t&&a.setState({fixed:!1});var n,i=a.tagHeight.findIndex(function(e){return e>a.refRoot.scrollTop+a.navHeight});switch(i){case 0:case 1:n=0;break;case-1:n=M.length-1;break;default:n=i-1}r!==M[n]&&(a.refNav.scrollLeft=a.navWidth[n>1?n-1:0],a.refNavFixed&&(a.refNavFixed.scrollLeft=a.navWidth[n>1?n-1:0]),a.setState({active:M[n]}))},80),a.scrollTo=function(e,t){a.refRoot.scrollTop=a.tagHeight[e]-a.navHeight,a.setState({active:t})},a.toggleSelect=function(e){var t,r=e.gid,n=e.title,i=a.state.selected,o=i.findIndex(function(e){return e.gid===r});if(-1===o){if(i.length>=Oe)return void f.a.light("最多选".concat(Oe,"个产品"));t=Pe(i).concat([{gid:r,title:n}])}else(t=Pe(i)).splice(o,1);a.setState({selected:t})},a.onSubmit=function(){var e=a.props.onSubmit,t=a.state.selected;t.length===Oe?f.a.onConfirm("已选".concat(t.map(function(e){return e.title}).join("、"),"，确认无误并提交？"),function(){return e(t)}):f.a.light("请选择".concat(Oe,"个产品"))},a}var a,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(t,n.a.Component),a=t,(r=[{key:"componentDidMount",value:function(){this.refRoot.addEventListener("scroll",this.fixed)}},{key:"componentWillUnmount",value:function(){this.refRoot.removeEventListener("scroll",this.fixed)}},{key:"render",value:function(){var e=this,t=this.props.onHide,a=this.state,r=a.selected,i=a.fixed,o=a.active;return n.a.createElement("div",{className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])},n.a.createElement("div",{ref:function(t){return e.refRoot=t},className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" style-305363"},n.a.createElement("div",{className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" header t-c"},n.a.createElement(s.p,{className:"".concat("style-305363","__icon-back t-32 l-44 t-void"),type:"cross",onClick:t}),n.a.createElement("span",{className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" t-32 l-44 t-void"},"投票")),n.a.createElement("div",{className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" wrap-scroll"},n.a.createElement("div",{className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" wrap-title"},n.a.createElement("p",{className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" t-32 l-44 t-title t-c"},"请对你最心动的鱼竿进行投票"),n.a.createElement("p",{className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" t-28 l-40 t-sub t-c mt-24"},"（可投",Oe,"票）")),n.a.createElement("div",{className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" wrap-nav-placeholder"},n.a.createElement("div",{ref:function(t){e.refNav=t,t&&!e.navHeight&&(e.navTop=t.offsetTop,e.navHeight=t.clientHeight)},className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" wrap-nav"},H.map(function(t,a){return n.a.createElement("span",{key:t.label,ref:function(t){t&&-1===e.navWidth.indexOf(t.offsetLeft)&&e.navWidth.push(t.offsetLeft)},onClick:function(){return e.scrollTo(a,t.label)},className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" "+(E()("nav-item t-32 l-44",{"t-sub":o!==t.label,"t-theme t-b":o===t.label})||"")},t.label)}))),n.a.createElement("div",{className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])},H.map(function(t){return n.a.createElement("div",{key:t.label,ref:function(t){t&&-1===e.tagHeight.indexOf(t.offsetTop)&&e.tagHeight.push(t.offsetTop)},className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" wrap-series"},n.a.createElement("p",{className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" t-c"},n.a.createElement("span",{className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" tag t-theme t-36 l-48 t-b"},t.label,"系列")),t.child.map(function(t){return n.a.createElement(s.l,{key:t.gid,className:"mt-32",align:"start",onClick:function(){return e.toggleSelect(t)}},n.a.createElement("img",{src:-1===r.findIndex(function(e){var a=e.gid;return t.gid===a})?"".concat(O,"/check.png"):"".concat(O,"/checked.png"),alt:"",className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" img-check"}),n.a.createElement(s.l.Item,null,n.a.createElement("p",{className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" t-32 l-44"},t.title),t.desc&&n.a.createElement("p",{className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" t-26 l-44 t-sub mt-4"},t.desc)),t.minPrice===t.maxPrice?n.a.createElement("p",{className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" t-sub ml-sm"},n.a.createElement("span",{className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" t-22 l-44"},"¥"),n.a.createElement("span",{className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" t-28 l-44"},t.minPrice)):n.a.createElement("p",{className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" t-sub ml-sm"},n.a.createElement("span",{className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" t-22 l-44"},"¥"),n.a.createElement("span",{className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" t-28 l-44"},t.minPrice,"-"),n.a.createElement("span",{className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" t-22 l-44"},"¥"),n.a.createElement("span",{className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" t-28 l-44"},t.maxPrice)))}))}),n.a.createElement("p",{className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" t-24 t-sub mt-32"},"本汀洪发山系列以及其他未罗列的作品主要为线下实体款，暂不在投票之列，谢谢！")))),i&&n.a.createElement("div",{ref:function(t){return e.refNavFixed=t},className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" wrap-nav wrap-nav-fixed"},H.map(function(t,a){return n.a.createElement("span",{key:t.label,onClick:function(){return e.scrollTo(a,t.label)},className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])+" "+(E()("nav-item t-32 l-44",{"t-sub":o!==t.label,"t-theme t-b":o===t.label})||"")},t.label)})),n.a.createElement(s.c,{className:"".concat("style-305363","__btn"),type:"danger",disabled:!r.length,onClick:this.onSubmit},n.a.createElement("span",{className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])},"提交投票",!!r.length&&"(已选\n                ".concat(r.length,"\n                项)"))),n.a.createElement("img",{src:"".concat(O,"/checked.png"),alt:"",style:{display:"none"},className:j.a.dynamic([["3034174210",["style-305363",S.a.wind,"style-305363"]],["3001503791",[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]]])}),n.a.createElement(j.a,{styleId:"3034174210",css:".".concat("style-305363","__icon-back{position:absolute;left:").concat(S.a.wind,";top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);}.").concat("style-305363","__btn{position:fixed !important;z-index:999;right:0;bottom:0;left:0;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);}"),dynamic:["style-305363",S.a.wind,"style-305363"]}),n.a.createElement(j.a,{styleId:"3001503791",css:".style-305363.__jsx-style-dynamic-selector{position:fixed !important;z-index:998;top:0;right:0;bottom:0;left:0;background:".concat(S.a.color_bg,";overflow-y:scroll;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);}.wrap-scroll.__jsx-style-dynamic-selector{padding:0.64rem ").concat(S.a.wind," 1.6rem;}.wrap-title.__jsx-style-dynamic-selector{padding-bottom:0.24rem;}.wrap-nav-placeholder.__jsx-style-dynamic-selector{min-height:1.08rem;}.wrap-nav.__jsx-style-dynamic-selector{padding:0.32rem 0.4rem;background:#fff;border-radius:0.12rem;box-shadow:0 0.04rem 0.08rem 0 rgba(216,219,229,1);overflow-x:scroll;overflow-y:hidden;white-space:nowrap;}.wrap-nav-fixed.__jsx-style-dynamic-selector{position:fixed;z-index:999;top:0;left:").concat(S.a.wind,";right:").concat(S.a.wind,";-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);}.wrap-series.__jsx-style-dynamic-selector{padding:0.32rem 0.16rem 0.56rem;border-bottom:0.01rem solid ").concat(S.a.color_border,";}.wrap-series.__jsx-style-dynamic-selector:last-child{border-bottom:0;}.t-theme.__jsx-style-dynamic-selector{color:#131768;}.header.__jsx-style-dynamic-selector{position:relative;height:0.96rem;line-height:0.96rem;background:#0e1324;}.nav-item.__jsx-style-dynamic-selector{display:inline-block;margin-right:0.56rem;}.tag.__jsx-style-dynamic-selector{position:relative;color:#131768;}.tag.__jsx-style-dynamic-selector:before{content:'';position:absolute;z-index:-1;bottom:0;left:0;width:1.44rem;height:0.16rem;background:linear-gradient(90deg,#b1dcff,#80bbff);border-radius:0.16rem;}.img-check.__jsx-style-dynamic-selector{width:0.56rem;height:0.56rem;margin-top:-0.04rem;}"),dynamic:[S.a.color_bg,S.a.wind,S.a.wind,S.a.wind,S.a.color_border]}))}}])&&je(a.prototype,r),i&&je(a,i),t}())||ve,Le={};H.forEach(function(e){e.child.forEach(function(e){Le[e.gid]={title:e.title,desc:e.desc,minPrice:e.minPrice,maxPrice:e.maxPrice}})});var Ae=function(e,t){var a=t.$,r=e.onHide,i=a.getState("_vote").refreshing,o=a.getState("vote"),c=o.finalVoteTime,l=o.list,m=void 0===l?[]:l,d=o.votedGoodsList,u=void 0===d?[]:d,p=o.voteNum,y=void 0===p?"-":p,g=o.personTotal,b=void 0===g?"-":g,h={};m.forEach(function(e){h[e.gid]=e.vote_num});var _={};return u.forEach(function(e){_[e]=!0}),n.a.createElement("div",{className:j.a.dynamic([["3659194506",["style-195450",S.a.wind]],["2093647679",[S.a.color_bg,S.a.wind,S.a.color_border,S.a.sm]]])},n.a.createElement("div",{className:j.a.dynamic([["3659194506",["style-195450",S.a.wind]],["2093647679",[S.a.color_bg,S.a.wind,S.a.color_border,S.a.sm]]])+" style-195450"},n.a.createElement("div",{className:j.a.dynamic([["3659194506",["style-195450",S.a.wind]],["2093647679",[S.a.color_bg,S.a.wind,S.a.color_border,S.a.sm]]])+" header-placeholder"}),n.a.createElement("div",{className:j.a.dynamic([["3659194506",["style-195450",S.a.wind]],["2093647679",[S.a.color_bg,S.a.wind,S.a.color_border,S.a.sm]]])+" wrap-scroll"},n.a.createElement("div",{className:j.a.dynamic([["3659194506",["style-195450",S.a.wind]],["2093647679",[S.a.color_bg,S.a.wind,S.a.color_border,S.a.sm]]])+" wrap-series"},n.a.createElement(s.l,null,n.a.createElement(s.l.Item,null,n.a.createElement("p",{className:j.a.dynamic([["3659194506",["style-195450",S.a.wind]],["2093647679",[S.a.color_bg,S.a.wind,S.a.color_border,S.a.sm]]])},n.a.createElement("span",{className:j.a.dynamic([["3659194506",["style-195450",S.a.wind]],["2093647679",[S.a.color_bg,S.a.wind,S.a.color_border,S.a.sm]]])+" t-24 l-34 t-theme"},"您的投票号为："),n.a.createElement("span",{className:j.a.dynamic([["3659194506",["style-195450",S.a.wind]],["2093647679",[S.a.color_bg,S.a.wind,S.a.color_border,S.a.sm]]])+" t-36 l-44 t-danger"},y))),n.a.createElement("p",{className:j.a.dynamic([["3659194506",["style-195450",S.a.wind]],["2093647679",[S.a.color_bg,S.a.wind,S.a.color_border,S.a.sm]]])+" t-24 l-34 t-sub"},"投票总人数：",b)),n.a.createElement(s.l,{className:"mt-16"},n.a.createElement(s.l.Item,null,n.a.createElement("span",{className:j.a.dynamic([["3659194506",["style-195450",S.a.wind]],["2093647679",[S.a.color_bg,S.a.wind,S.a.color_border,S.a.sm]]])+" t-24 l-34 t-sub"},"以下是 ",f.a.date("m月d日 H:i",c)," 投票结果")),n.a.createElement("span",{onClick:a.page.refreshVoteInfo,className:j.a.dynamic([["3659194506",["style-195450",S.a.wind]],["2093647679",[S.a.color_bg,S.a.wind,S.a.color_border,S.a.sm]]])+" t-24 l-34 t-theme"},i?"刷新中":"点击刷新"))),n.a.createElement("div",{className:j.a.dynamic([["3659194506",["style-195450",S.a.wind]],["2093647679",[S.a.color_bg,S.a.wind,S.a.color_border,S.a.sm]]])},n.a.createElement("div",{className:j.a.dynamic([["3659194506",["style-195450",S.a.wind]],["2093647679",[S.a.color_bg,S.a.wind,S.a.color_border,S.a.sm]]])+" wrap-series"},n.a.createElement("p",{className:j.a.dynamic([["3659194506",["style-195450",S.a.wind]],["2093647679",[S.a.color_bg,S.a.wind,S.a.color_border,S.a.sm]]])+" t-c"},n.a.createElement("span",{className:j.a.dynamic([["3659194506",["style-195450",S.a.wind]],["2093647679",[S.a.color_bg,S.a.wind,S.a.color_border,S.a.sm]]])+" tag t-theme t-36 l-48 t-b"},"投票排行榜")),m.map(function(e,t){return n.a.createElement($e,{key:e.gid,gid:e.gid,index:t,num:h[e.gid],me:_[e.gid]})})),H.map(function(e){return n.a.createElement("div",{key:e.label,className:j.a.dynamic([["3659194506",["style-195450",S.a.wind]],["2093647679",[S.a.color_bg,S.a.wind,S.a.color_border,S.a.sm]]])+" wrap-series"},n.a.createElement("p",{className:j.a.dynamic([["3659194506",["style-195450",S.a.wind]],["2093647679",[S.a.color_bg,S.a.wind,S.a.color_border,S.a.sm]]])+" t-c"},n.a.createElement("span",{className:j.a.dynamic([["3659194506",["style-195450",S.a.wind]],["2093647679",[S.a.color_bg,S.a.wind,S.a.color_border,S.a.sm]]])+" tag t-theme t-36 l-48 t-b"},e.label,"系列")),e.child.map(function(e){return n.a.createElement($e,{key:e.gid,gid:e.gid,num:h[e.gid],me:_[e.gid]})}))})))),n.a.createElement("div",{className:j.a.dynamic([["3659194506",["style-195450",S.a.wind]],["2093647679",[S.a.color_bg,S.a.wind,S.a.color_border,S.a.sm]]])+" header t-c"},n.a.createElement(s.p,{className:"".concat("style-195450","__icon-back t-32 l-44 t-void"),type:"cross",onClick:r}),n.a.createElement("span",{className:j.a.dynamic([["3659194506",["style-195450",S.a.wind]],["2093647679",[S.a.color_bg,S.a.wind,S.a.color_border,S.a.sm]]])+" t-32 l-44 t-void"},"投票实时数据")),n.a.createElement(j.a,{styleId:"3659194506",css:".".concat("style-195450","__icon-back{position:absolute;left:").concat(S.a.wind,";top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);}"),dynamic:["style-195450",S.a.wind]}),n.a.createElement(j.a,{styleId:"2093647679",css:".style-195450.__jsx-style-dynamic-selector{position:fixed !important;z-index:998;top:0;right:0;bottom:0;left:0;background:".concat(S.a.color_bg,";overflow-y:scroll;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);}.wrap-scroll.__jsx-style-dynamic-selector{padding:0 ").concat(S.a.wind," 0.64rem;}.wrap-series.__jsx-style-dynamic-selector{padding:0.32rem 0.16rem 0.56rem;border-bottom:0.01rem solid ").concat(S.a.color_border,";}.wrap-series.__jsx-style-dynamic-selector:last-child{border-bottom:0;}.t-theme.__jsx-style-dynamic-selector{color:#131768;}.header.__jsx-style-dynamic-selector{position:fixed;z-index:1000;top:0;left:0;right:0;height:0.96rem;line-height:0.96rem;background:#0e1324;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);}.header-placeholder.__jsx-style-dynamic-selector{height:0.96rem;}.img-back.__jsx-style-dynamic-selector{position:absolute;left:").concat(S.a.sm,";top:50%;height:0.26rem;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);}.tag.__jsx-style-dynamic-selector{position:relative;}.tag.__jsx-style-dynamic-selector:before{content:'';position:absolute;z-index:-1;bottom:0;left:0;width:1.44rem;height:0.16rem;background:linear-gradient(90deg,#b1dcff,#80bbff);border-radius:0.16rem;}"),dynamic:[S.a.color_bg,S.a.wind,S.a.color_border,S.a.sm]}))};Ae.contextTypes={$:o.a.object};var Me,He,Re,Fe=Object(c.d)(Ae),$e=Object(c.d)(function(e){var t=e.num,a=e.me,r=e.index,i=e.gid;return n.a.createElement(s.l,{className:"mt-32",align:"start"},n.a.createElement("p",{className:"jsx-3124052644 "+(E()("p-num t-22 l-44",{"t-sub":r>2,"t-gold":r<3})||"")},t||0,"票"),n.a.createElement(s.l.Item,null,n.a.createElement("p",{className:"jsx-3124052644 "+(E()("t-32 l-44",{"t-danger":a})||"")},Le[i].title),Le[i].desc&&n.a.createElement("p",{className:"jsx-3124052644 "+(E()("t-26 l-44 mt-4",{"t-sub":!a,"t-danger":a})||"")},Le[i].desc)),Le[i].minPrice===Le[i].maxPrice?n.a.createElement("p",{className:"jsx-3124052644 t-sub ml-sm"},n.a.createElement("span",{className:"jsx-3124052644 t-22 l-44"},"¥"),n.a.createElement("span",{className:"jsx-3124052644 t-28 l-44"},Le[i].minPrice)):n.a.createElement("p",{className:"jsx-3124052644 t-sub ml-sm"},n.a.createElement("span",{className:"jsx-3124052644 t-22 l-44"},"¥"),n.a.createElement("span",{className:"jsx-3124052644 t-28 l-44"},Le[i].minPrice,"-"),n.a.createElement("span",{className:"jsx-3124052644 t-22 l-44"},"¥"),n.a.createElement("span",{className:"jsx-3124052644 t-28 l-44"},Le[i].maxPrice)),n.a.createElement(j.a,{styleId:"3124052644",css:".p-num.jsx-3124052644{min-width:0.8rem;}"}))});function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return!t||"object"!==ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ve,Ze,qe=Object(c.d)((Re=He=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ue(this,We(t).apply(this,arguments))}var a,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(t,n.a.Component),a=t,(r=[{key:"componentWillUnmount",value:function(){var e=this.context.$;e.page.hideVote(),e.page.hideFixedTextarea()}},{key:"render",value:function(){var e=this.context.$,t=e.getState("_fixedTextarea"),a=t.show,r=t.placeholder,i=t.onSubmit,o=e.getState("_vote").show,c=1===e.getState("vote").hasVoted;return n.a.createElement("div",null,o&&(c?n.a.createElement(Fe,{onHide:e.page.hideVote}):n.a.createElement(Ce,{onHide:e.page.hideVote,onSubmit:e.do.voting})),n.a.createElement(s.k,{show:a,placeholder:r,showUploadPicButton:!0,onSubmit:i,onClose:e.page.hideFixedTextarea}),n.a.createElement(s.l,{className:"style-136740"},n.a.createElement(s.l.Item,null,n.a.createElement(s.c,{type:"danger",onClick:function(){return f.a.checkLogin(function(){return f.a.checkWW(function(){return e.page.showVote()})})}},c?"最新投票结果":"投票")),n.a.createElement(s.l.Item,{style:{marginLeft:0}},n.a.createElement(s.c,{type:"warning",onClick:function(){return f.a.checkLogin(function(){return f.a.checkWW(function(){return e.page.onCommentClick({placeholder:"回复内容为大家喜欢或想入手本汀的什么作品，例如：我喜欢本汀的金迦潘，爱死她啦。。。或我想入手本汀桃园等等，最多可回复3次"})})})}},"踩楼")),n.a.createElement(j.a,{styleId:"3566505546",css:".style-136740{position:fixed;z-index:1;right:0;bottom:0;left:0;}"})))}}])&&De(a.prototype,r),i&&De(a,i),t}(),He.contextTypes={$:o.a.object},Me=Re))||Me,Be=a(9),Je=a.n(Be),Qe=a(11),Ge=a(12),Ke=a(15),Xe=a(13);function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(t){at(e,t,a[t])})}return e}function at(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function rt(e,t,a,r,n,i,o){try{var c=e[i](o),s=c.value}catch(e){return void a(e)}c.done?t(s):Promise.resolve(s).then(r,n)}function nt(e){return function(){var t=this,a=arguments;return new Promise(function(r,n){var i=e.apply(t,a);function o(e){rt(i,r,n,o,c,"next",e)}function c(e){rt(i,r,n,o,c,"throw",e)}o(void 0)})}}function it(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ct(e,t){return(ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function st(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var lt,mt,dt,ut,ft,pt,yt=(Ve=function(e){function t(){var e,a,r,i,o,c,s,l,d,u,p,y,g,b,h,_,w,v,x,E,k,N,P;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var j=arguments.length,S=new Array(j),I=0;I<j;I++)S[I]=arguments[I];return r=this,i=(e=ot(t)).call.apply(e,[this].concat(S)),a=!i||"object"!==et(i)&&"function"!=typeof i?st(r):i,o=a,c="state",s=Ze,l=st(st(a)),s&&Object.defineProperty(o,c,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(l):void 0}),a.params={queryComment:{},queryCompetitionRecord:{},queryCompetitionAward:{}},a.setQuery={comment:function(e){var t,r=L[e].title,n=a.params.params.id;switch(r){case"最新":t={_:{limit:m.a.__LIMIT__,order:{top:"desc",createTime:"desc"},search:{threadId:n}}};break;case"正序":t={_:{limit:m.a.__LIMIT__,search:{threadId:n}}};break;case"楼主":t={_:{limit:m.a.__LIMIT__,search:{threadId:n,userId:a.getState("detail").userId}}};break;case"我的":t={_:{limit:m.a.__LIMIT__,search:{AND:{threadId:n,OR:{parUserId:a.getState("userInfo").userId,userId:a.getState("userInfo").userId}}}}}}a.setParams({queryComment:t})},competitionRecord:function(e){var t=a.params.params.id,r={_:{limit:m.a.__LIMIT__,order:{created_at:"desc"},search:{thread_id:t}}};if(e){var n=a.getState("userInfo").userId;r._.search.user_id=n}a.setParams({queryCompetitionRecord:r})},competitionAward:function(e){var t=a.params.params.id,r={_:{limit:m.a.__LIMIT__,order:{bonus:"desc"},search:{thread_id:t,"bonus[>]":0}}};if(e){var n=a.getState("userInfo").userId;r._.search.user_id=n}a.setParams({queryCompetitionAward:r})}},a.fetch={config:{static:[["userInfo","userInfo"],["walletInfo","walletInfo"],["bbsLikeAndFavorList","bbsLikeAndFavorList"]],one:[["detail",!0]]},userInfo:(g=nt(Je.a.mark(function e(){var t;return Je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Xe.a.fetchUserInfo(),e.t0=a,e.next=4,t;case 4:return e.t1=e.sent,e.t0.setState.call(e.t0,e.t1,"userInfo"),e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)}),walletInfo:(y=nt(Je.a.mark(function e(){var t;return Je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Xe.a.fetchWalletInfo(),e.t0=a,e.next=4,t;case 4:return e.t1=e.sent,e.t0.setState.call(e.t0,e.t1,"walletInfo"),e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)}),bbsLikeAndFavorList:(p=nt(Je.a.mark(function e(){var t;return Je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Xe.a.fetchBBSLikeAndFavorList(),e.t0=a,e.next=4,t;case 4:return e.t1=e.sent,e.t0.setState.call(e.t0,e.t1,"bbsLikeAndFavorList"),e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)}),detail:(u=nt(Je.a.mark(function e(){var t;return Je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.params.params.id,e.abrupt("return",a.fetchThenSetState("get_bbs_post-detail","detail",{threadId:t}));case 2:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)}),comment:function(e){var t=a.params.queryComment;return a.fetchListThenSetState("get_bbs_post-comment-list","comment",t,e)},score:function(){var e=a.params.params.id;return a.fetchThenSetState("get_bbs_scoretips-list","score",{_:{limit:16,search:{relevType:10016,relevId:e,"faceImg[!]":m.a.__IMG_EMPTY__}}})},registration:(d=nt(Je.a.mark(function e(){var t,r,n;return Je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.params.params.id,r=Ke.a.PP("get_registration_detail",{thread_id:t}),e.next=4,r;case 4:return"0"===(n=e.sent).code&&a.setState(n.data,"registration"),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)}),competitionRecord:function(e){if(!a.getState("detail").guessingData)return!1;var t=a.params.queryCompetitionRecord;return a.fetchListThenSetState("get_competition_record-list","competitionRecord",t,e)},competitionAward:function(e){if(!a.getState("detail").guessingData)return!1;var t=a.params.queryCompetitionAward;return a.fetchListThenSetState("get_competition_record-list","competitionAward",t,e)},reward:function(){var e=a.params.params.id;return a.fetchThenSetState("get_new_reward-list","reward",{_:{limit:m.a.__LIMIT__,search:{dataId:e,typeId:3}}})},vote:function(){var e=a.params.params.id;return a.fetchThenSetState("get_vote_detail","vote",{tid:e})},lazy:{score:function(){a.getState("score")._loaded||a.fetch.score()},reward:function(){a.getState("reward")._loaded||a.fetch.reward()},comment:function(){return a.fetch.comment(!0)}}},a.computed={isLike:function(){var e=a.params.params.id,t=a.getState("bbsLikeAndFavorList");return!(!t.list||!t.list.like)&&-1!==t.list.like.findIndex(function(t){return t==e})},isFavor:function(){var e=a.params.params.id,t=a.getState("bbsLikeAndFavorList");return!(!t.list||!t.list.favorite)&&-1!==t.list.favorite.findIndex(function(t){return t==e})},isCompetitionEnd:function(){var e=a.getState("detail").guessingData;return 0!=(void 0===e?{}:e).competitionWinner},competitionTypeLabel:function(){var e=a.getState("detail").guessingData,t=(void 0===e?{}:e).competitionType;return t?f.a.getLabel(A,t):""},isVote:function(){var e=a.getState("detail").vid;return parseInt(e)>0}},a.do={comment:(k=nt(Je.a.mark(function e(t){var r,n,i;return Je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.a.P("do_bbs_posted",tt({},t,{type:2}));case 2:r=e.sent,n=r.point,i=r.cake,f.a.light(n?"回复成功，积分+".concat(n):"回复成功"),a.page.hideFixedTextarea(),a.fetch.comment(!0),"object"===et(i)&&a.page.showEggMask(i.type,i.value);case 9:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)}),toggleFavor:(E=nt(Je.a.mark(function e(){var t,r,n;return Je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.getState("detail"),r=t.threadId,e.next=3,Xe.a.doFavor(r);case 3:n=Xe.a.getState("bbsLikeAndFavorList"),a.setState(n,"bbsLikeAndFavorList"),a.fetch.detail();case 6:case"end":return e.stop()}},e,this)})),function(){return E.apply(this,arguments)}),toggleLike:(x=nt(Je.a.mark(function e(){var t,r,n,i;return Je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.getState("detail"),r=t.postId,n=t.threadId,e.next=3,Xe.a.doLike(r,n);case 3:i=Xe.a.getState("bbsLikeAndFavorList"),a.setState(i,"bbsLikeAndFavorList"),a.fetch.detail();case 6:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)}),addScore:(v=nt(Je.a.mark(function e(){var t,r;return Je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.params.params.id,e.next=3,Ke.a.P("do_bbs_scoretips-post",{threadId:t,changeScore:1});case 3:r=e.sent,f.a.light("已成功为他加 ".concat(r.point," 积分")),a.fetch.score();case 6:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)}),addScoreHongren:(w=nt(Je.a.mark(function e(t){var r,n;return Je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.params.params.id,n=parseInt(t),!(isNaN(n)||n<1||n>10)){e.next=5;break}return f.a.light("请输入1-10"),e.abrupt("return");case 5:return e.next=7,Ke.a.P("do_hong-ren_score",{threadId:r,changeScore:n});case 7:f.a.light("已成功为他加 ".concat(t," 积分")),a.fetch.score();case 9:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)}),reward:(_=nt(Je.a.mark(function e(t){var r;return Je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.params.params.id,e.next=3,Ke.a.P("do_new_reward",{dataId:r,typeId:3,goodsId:t});case 3:f.a.light("打赏成功"),a.page.hideReward(),a.fetch.reward(),a.fetch.comment(!0);case 7:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)}),betting:(h=nt(Je.a.mark(function e(){var t,r,n,i,o;return Je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.getState("detail"),r=t.threadId,n=a.getState("_payConfirm"),i=n.playerId,o=n.amount,e.next=4,Ke.a.P("do_competition_betting",{thread_id:r,player_id:i,amount:o});case 4:f.a.success(),a.page.hidePayConfirm(),a.fetch.competitionRecord(!0),a.fetch.detail(),"金币"===a.competitionTypeLabel?a.fetch.walletInfo():a.fetch.userInfo();case 9:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)}),voting:(b=nt(Je.a.mark(function e(t){var r,n,i,o;return Je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.getState("detail"),n=r.forumId,i=r.postId,o=r.threadId,e.next=3,Ke.a.P("do_vote_voting",{fid:n,vid:o,pid:i,tid:o,goods:t.map(function(e){return{gid:e.gid,name:e.title}})});case 3:return f.a.light("投票成功"),a.page.hideVote(),e.next=7,a.fetch.vote();case 7:a.page.showVote();case 8:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},a.page={onTabClick:function(e,t){a.setQuery.comment(t),a.fetch.comment(!0),a.setState({page:t},"_affixTabs")},onCommentClick:function(e){var t,r,n=a.getState("detail").threadId;e.parentId?(t="回复".concat(e.niname,"："),r=function(t){return f.a.getCharLength(t.value)<2?(f.a.light("回复的字数不能少于2"),!1):(a.do.comment({content:t.value,commentImg:t.id,threadId:n,parentId:e.parentId}),!0)}):(t="回复：",r=function(e){return f.a.getCharLength(e.value)<2?(f.a.light("回复的字数不能少于2"),!1):(a.do.comment({content:e.value,commentImg:e.id,threadId:n}),!0)}),a.page.showFixedTextarea({placeholder:t,onSubmit:r})},showFixedTextarea:function(e){return a.setState(tt({},e,{show:!0}),"_fixedTextarea")},hideFixedTextarea:function(){return a.setState({show:!1},"_fixedTextarea")},showPayConfirm:function(e){return a.setState(tt({},e,{show:!0}),"_payConfirm")},hidePayConfirm:function(){return a.setState({playerId:"",amount:0,type:"",show:!1},"_payConfirm")},showBettingModal:function(e){var t,r;"金币"===a.competitionTypeLabel?(t=a.getState("walletInfo").sysAmount,r="coin"):(t=a.getState("userInfo").point,r="nido"),f.a.onPrompt("我要支持",function(t){var n=parseInt(t);isNaN(n)||n<1?f.a.light("数量不能少于1"):a.page.showPayConfirm({playerId:e.id,amount:n,type:r})},void 0,n.a.createElement(n.a.Fragment,null,n.a.createElement("p",{className:"t-28 t-sub"},n.a.createElement("span",null,"支持选手："),n.a.createElement("span",{className:"t-primary"},e.name)),n.a.createElement("p",{className:"t-28 t-sub"},n.a.createElement("span",null,a.competitionTypeLabel,"余额："),n.a.createElement("span",{className:"t-primary"},f.a.formatNumber(t)))),["输入数量"])},toggleCompetitionRecord:function(){var e=a.getState("_competition").isMe;a.setState({isMe:!e},"_competition"),a.setQuery.competitionRecord(!e),a.fetch.competitionRecord(!0)},toggleCompetitionAward:function(){var e=a.getState("_competition").isMe;a.setState({isMe:!e},"_competition"),a.setQuery.competitionAward(!e),a.fetch.competitionAward(!0)},showEggMask:function(e,t){return a.setState({show:!0,type:e,value:t},"_egg")},hideEggMask:function(){return a.setState({show:!1},"_egg")},animated:!1,onEggKnock:(P=nt(Je.a.mark(function e(){return Je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.page.animated){e.next=2;break}return e.abrupt("return",!1);case 2:return a.page.animated=!0,e.next=5,f.a.sleep(200);case 5:return a.setState({step:1},"_egg"),e.next=8,f.a.sleep(1400);case 8:return a.setState({step:2},"_egg"),e.abrupt("return",!0);case 10:case"end":return e.stop()}},e,this)})),function(){return P.apply(this,arguments)}),showReward:function(){return a.setState({show:!0},"_reward")},hideReward:function(){return a.setState({show:!1},"_reward")},showVote:function(){return a.setState({show:!0},"_vote")},hideVote:function(){return a.setState({show:!1},"_vote")},refreshVoteInfo:(N=nt(Je.a.mark(function e(){var t;return Je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.getState("_vote"),!t.refreshing){e.next=3;break}return e.abrupt("return");case 3:return a.setState({refreshing:!0},"_vote"),e.next=6,a.fetch.vote();case 6:setTimeout(function(){a.setState({refreshing:!1},"_vote")},1e3);case 7:case"end":return e.stop()}},e,this)})),function(){return N.apply(this,arguments)})},a}var a,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ct(e,t)}(t,Ge["a"]),a=t,(r=[{key:"storeInit",value:function(){this.setQuery.comment(0),this.setState({page:0},"_affixTabs")}},{key:"storeDidInitFetch",value:function(){var e=this.getState("detail");e.guessingData&&(this.isCompetitionEnd?(this.setQuery.competitionAward(),this.fetch.competitionAward(!0)):(this.setQuery.competitionRecord(),this.fetch.competitionRecord(!0))),e.registrationData&&this.fetch.registration(),this.isVote&&this.fetch.vote()}}])&&it(a.prototype,r),i&&it(a,i),t}(),lt=Ve.prototype,mt="state",dt=[Qe.k],ut={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.initState({_affixTabs:{page:0},_fixedTextarea:{show:!1,placeholder:"",onSubmit:Function.prototype},_payConfirm:{show:!1,type:"",amount:0,playerId:""},_competition:{isMe:!1},_egg:{show:!1,step:0,type:"",value:""},_reward:{show:!1},_vote:{show:!1,refreshing:!1},userInfo:Xe.a.toJS("userInfo"),walletInfo:Xe.a.toJS("walletInfo"),bbsLikeAndFavorList:Xe.a.toJS("bbsLikeAndFavorList"),detail:{},comment:m.a.__EMPTY__,score:m.a.__EMPTY__,reward:m.a.__EMPTY__,competitionRecord:m.a.__EMPTY__,competitionAward:m.a.__EMPTY__,registration:{},vote:{}})}},pt={},Object.keys(ut).forEach(function(e){pt[e]=ut[e]}),pt.enumerable=!!pt.enumerable,pt.configurable=!!pt.configurable,("value"in pt||pt.initializer)&&(pt.writable=!0),pt=dt.slice().reverse().reduce(function(e,t){return t(lt,mt,e)||e},pt),ft&&void 0!==pt.initializer&&(pt.value=pt.initializer?pt.initializer.call(ft):void 0,pt.initializer=void 0),void 0===pt.initializer&&(Object.defineProperty(lt,mt,pt),pt=null),Ze=pt,Ve),gt=function(e,t){var a=t.$,r=a.getState("detail"),i=r.title,o=r._loaded;return n.a.createElement(l.k,{title:i||"帖子详情",header:n.a.createElement(be,null)},n.a.createElement(ye,null),n.a.createElement(ae,null),o&&n.a.createElement(s.s,{onDidMount:a.fetch.lazy.reward},n.a.createElement(xe,{className:"mt-d"})),o&&n.a.createElement(Q,{className:"mt-d"}),o&&n.a.createElement(s.s,{onDidMount:a.fetch.lazy.comment},n.a.createElement(F,{className:"mt-d"})),o&&(a.isVote?n.a.createElement(qe,null):n.a.createElement(fe,null)),n.a.createElement(_e,null),n.a.createElement(ce,null),m.a.__CLIENT__&&n.a.createElement(v,null),m.a.__SERVER__&&n.a.createElement(y,null))};gt.contextTypes={$:o.a.object};var bt=Object(c.c)(yt)(Object(c.d)(gt));t.default=bt}},[[812,1,0]]]);