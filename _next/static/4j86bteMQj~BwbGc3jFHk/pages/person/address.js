(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{1065:function(e,t,r){"use strict";r.r(t);var n,a,o=r(28),l=r.n(o),i=r(1),c=r.n(i),u=r(6),s=r.n(u),f=r(5),d=r(3),p=r(10),m=r(4),b=r(0),y=r(9),h=r.n(y),v=r(11),_=r(12),w=r(15),g=r(7);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t,r,n,a,o,l){try{var i=e[o](l),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,a)}function x(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function l(e){E(o,n,a,l,i,"next",e)}function i(e){E(o,n,a,l,i,"throw",e)}l(void 0)})}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var k,z,N,C,I,T,M=(n=function(e){function t(){var e,r,n,o,l,i,c,u,s,f;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var d=arguments.length,p=new Array(d),b=0;b<d;b++)p[b]=arguments[b];return n=this,o=(e=P(t)).call.apply(e,[this].concat(p)),r=!o||"object"!==O(o)&&"function"!=typeof o?S(n):o,l=r,i="state",c=a,u=S(S(r)),c&&Object.defineProperty(l,i,{enumerable:c.enumerable,configurable:c.configurable,writable:c.writable,value:c.initializer?c.initializer.call(u):void 0}),r.fetch={config:{every:["address"]},address:function(){return r.fetchThenSetState("get_new_address_list","address",{_:{limit:g.a.__LIMIT__,order:{addressId:"desc"}}})}},r.do={setDefault:(f=x(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.P("do_new_set_address",{addressId:t,default:1});case 2:m.a.light("设置成功"),r.fetch.address();case 4:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)}),delete:(s=x(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.P("do_new_delete_address",{addressId:t});case 2:m.a.light("删除成功"),r.fetch.address();case 4:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,_["a"]),t}(),k=n.prototype,z="state",N=[v.k],C={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.initState({address:g.a.__EMPTY__})}},T={},Object.keys(C).forEach(function(e){T[e]=C[e]}),T.enumerable=!!T.enumerable,T.configurable=!!T.configurable,("value"in T||T.initializer)&&(T.writable=!0),T=N.slice().reverse().reduce(function(e,t){return t(k,z,e)||e},T),I&&void 0!==T.initializer&&(T.value=T.initializer?T.initializer.call(I):void 0,T.initializer=void 0),void 0===T.initializer&&(Object.defineProperty(k,z,T),T=null),a=T,n),R=function(e,t){var r=t.$,n=r.getState("address").list;return c.a.createElement(p.k,{title:"地址管理",bd:null},c.a.createElement("p",{className:"p-sw t-48 l-66 t-b",style:{background:b.a.color_theme}},"地址管理"),c.a.createElement(d.u,null,n.map(function(e){var t=e.addressId,n=e.recName,a=e.phone,o=e.province,i=e.city,u=e.address;return c.a.createElement(d.u.Item,{key:t},c.a.createElement(d.l,null,c.a.createElement(d.l.Item,null,c.a.createElement(d.l,null,c.a.createElement("span",{className:"t-34 l-48 t-b"},n),c.a.createElement("span",{className:"t-30 l-42 ml-xs"},String(a).replace(/ /g,"")),1===e.default&&c.a.createElement(l.a,{className:"ml-md",text:"默认",style:b.a._badge})),c.a.createElement("p",{className:"t-24 l-34 mt-8"},o," ",i," ",u)),c.a.createElement(d.p,{type:"more",className:"t-48",onClick:function(){return m.a.actionSheet(["设为默认","编辑","删除"],function(e){switch(e){case 0:r.do.setDefault(t);break;case 1:m.a.router.push("/person/address/update?id=".concat(t),"/person/address/update/".concat(t));break;case 2:m.a.onConfirm("确定删除?",function(){return r.do.delete(t)})}})}})))})),c.a.createElement(d.m.Button,{onClick:function(){return m.a.router.push("/person/address/add")}},"新建"))};R.contextTypes={$:s.a.object};var A=Object(f.c)(M)(Object(f.d)(R));t.default=A},28:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(r(16)),a=f(r(21)),o=f(r(18)),l=f(r(19)),i=f(r(17)),c=f(r(20)),u=f(r(8)),s=f(r(1));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r},p=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e,t,r=this.props,o=r.className,l=r.prefixCls,i=r.children,c=r.text,f=r.size,p=r.overflowCount,m=r.dot,b=r.corner,y=r.hot,h=d(r,["className","prefixCls","children","text","size","overflowCount","dot","corner","hot"]);p=p,c="number"==typeof c&&c>p?p+"+":c,m&&(c="");var v=(0,u.default)((e={},(0,a.default)(e,l+"-dot",m),(0,a.default)(e,l+"-dot-large",m&&"large"===f),(0,a.default)(e,l+"-text",!m&&!b),(0,a.default)(e,l+"-corner",b),(0,a.default)(e,l+"-corner-large",b&&"large"===f),e)),_=(0,u.default)(l,o,(t={},(0,a.default)(t,l+"-not-a-wrapper",!i),(0,a.default)(t,l+"-corner-wrapper",b),(0,a.default)(t,l+"-hot",!!y),(0,a.default)(t,l+"-corner-wrapper-large",b&&"large"===f),t));return s.default.createElement("span",{className:_},i,(c||m)&&s.default.createElement("sup",(0,n.default)({className:v},h),c))}}]),t}(s.default.Component);t.default=p,p.defaultProps={prefixCls:"am-badge",size:"small",overflowCount:99,dot:!1,corner:!1},e.exports=t.default},853:function(e,t,r){__NEXT_REGISTER_PAGE("/person/address",function(){return e.exports=r(1065),{page:e.exports.default}})}},[[853,1,0]]]);