(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{29:function(e,t,a){"use strict";a.d(t,"e",function(){return n}),a.d(t,"d",function(){return o}),a.d(t,"c",function(){return r}),a.d(t,"b",function(){return i}),a.d(t,"a",function(){return l});var n={1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"七",8:"八",9:"九",10:"十",11:"十一",12:"十二"},o=[{label:"视频",value:"1"},{label:"图文",value:"2"},{label:"纯文",value:"3"},{label:"金币红包",value:"10"},{label:"积分红包",value:"11"},{label:"现金红包",value:"12"},{label:"优惠券红包",value:"13"}],r=[{label:"鱼竿",value:"36"},{label:"鱼饵",value:"38"},{label:"鱼线",value:"37"},{label:"鱼漂",value:"40"},{label:"装备",value:"49"},{label:"服饰",value:"51"},{label:"配件",value:"50"}],i=[{label:"社区",href:"/bbs"},{label:"话题",href:"/bbs/topic"},{label:"视频",href:"/video"}],l=[{label:"工商银行",value:"工商银行",icon:"gongshang",type:"danger"},{label:"农业银行",value:"农业银行",icon:"nongye",type:"success"},{label:"中国银行",value:"中国银行",icon:"zhongguo"},{label:"建设银行",value:"建设银行",icon:"jianshe",type:"primary"},{label:"招商银行",value:"招商银行",icon:"zhaoshang",type:"danger"},{label:"广发银行",value:"广发银行",icon:"guangfa",type:"danger"},{label:"邮政储蓄银行",value:"邮政储蓄银行",icon:"youzheng",type:"success"},{label:"光大银行",value:"光大银行",icon:"guangda",type:"warning"},{label:"中信银行",value:"中信银行",icon:"zhongxin",type:"danger"},{label:"交通银行",value:"交通银行",icon:"jiaotong",type:"danger"},{label:"兴业银行",value:"兴业银行",icon:"xingye",type:"primary"},{label:"浦发银行",value:"浦发银行",icon:"pufa",type:"primary"},{label:"华夏银行",value:"华夏银行",icon:"huaxia",type:"danger"},{label:"深圳发展银行",value:"深圳发展银行",icon:"shenzhenfazhan",type:"primary"},{label:"广州农商银行",value:"广州农商银行",icon:"nongshang",type:"warning"},{label:"民生银行",value:"民生银行",icon:"minsheng",type:"primary"},{label:"北京银行",value:"北京银行",icon:"beijing",type:"danger"},{label:"平安银行",value:"平安银行",icon:"pingan",type:"danger"},{label:"天津银行",value:"天津银行",icon:"tianjin",type:"primary"},{label:"上海银行",value:"上海银行",icon:"shanghai",type:"warning"},{label:"南京银行",value:"南京银行",icon:"nanjing",type:"danger"},{label:"宁波银行",value:"宁波银行",icon:"ningbo",type:"warning"},{label:"杭州银行",value:"杭州银行",icon:"hangzhou",type:"primary"},{label:"江苏银行",value:"江苏银行",icon:"jiangsu",type:"warning"},{label:"重庆银行",value:"重庆银行",icon:"chongqin",type:"success"},{label:"成都银行",value:"成都银行",icon:"chengdu",type:"warning"},{label:"哈尔滨银行",value:"哈尔滨银行",icon:"haerbin",type:"danger"},{label:"其他",value:"其他",icon:"",type:"primary"}]},917:function(e,t,a){__NEXT_REGISTER_PAGE("/person/zone",function(){return e.exports=a(976),{page:e.exports.default}})},976:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(6),i=a.n(r),l=a(5),c=a(10),u=a(3),s=a(4),b=s.a.cdn("/static/images/src/person/zone/Index"),f=s.a.cdn("/static/images/src/discovery/Index"),p=[{title:"动态"},{title:"帖子"},{title:"视频"}],d=[{label:"关注",value:"0"},{label:"已关注",value:"1"},{label:"互相关注",value:"2"}],m=function(e,t){var a=t.$,n=a.getState("person"),r=n.userId,i=n.prefix,l=s.a.getLabel(d,i),c="已关注"===l||"互相关注"===l;return o.a.createElement(u.o,{show:!0,title:"空间",ft:l&&o.a.createElement(u.l,null,c?o.a.createElement("span",{className:"t-34",onClick:function(){return s.a.router.toNido("/chat/".concat(r))}},"发私信"):o.a.createElement("span",{className:"t-34",onClick:function(){return s.a.checkLogin(a.do.follow)}},"关注TA")),style:{background:"transparent"}})};m.contextTypes={$:i.a.object};var y=Object(l.d)(m),_=a(2),v=a.n(_),g=a(8),h=a.n(g),w=a(7),E=a(0),j=function(e,t){var a=t.$,n=e.className,r=a.getState("person"),i=r.niname,l=r.concernCount,c=r.fanCount,s=r.point;return o.a.createElement("div",{className:v.a.dynamic([["1155448935",[E.a._bg,b,w.a.__IMG_DPR__,E.a.bottom]]])+" "+(h()("style-625597",n)||"")},o.a.createElement("div",{className:v.a.dynamic([["1155448935",[E.a._bg,b,w.a.__IMG_DPR__,E.a.bottom]]])+" info"},o.a.createElement("p",{className:v.a.dynamic([["1155448935",[E.a._bg,b,w.a.__IMG_DPR__,E.a.bottom]]])+" t-40 l-56 t-void t-b t-c"},i),o.a.createElement(u.l,{className:"mt-48"},o.a.createElement(u.l.Item,null,o.a.createElement("p",{className:v.a.dynamic([["1155448935",[E.a._bg,b,w.a.__IMG_DPR__,E.a.bottom]]])+" t-40 l-56 t-void t-b t-c"},l),o.a.createElement("p",{className:v.a.dynamic([["1155448935",[E.a._bg,b,w.a.__IMG_DPR__,E.a.bottom]]])+" t-24 l-34 t-void t-c mt-8"},"关注")),o.a.createElement(u.l.Item,null,o.a.createElement("p",{className:v.a.dynamic([["1155448935",[E.a._bg,b,w.a.__IMG_DPR__,E.a.bottom]]])+" t-40 l-56 t-void t-b t-c"},c),o.a.createElement("p",{className:v.a.dynamic([["1155448935",[E.a._bg,b,w.a.__IMG_DPR__,E.a.bottom]]])+" t-24 l-34 t-void t-c mt-8"},"粉丝")),o.a.createElement(u.l.Item,null,o.a.createElement("p",{className:v.a.dynamic([["1155448935",[E.a._bg,b,w.a.__IMG_DPR__,E.a.bottom]]])+" t-40 l-56 t-void t-b t-c"},s),o.a.createElement("p",{className:v.a.dynamic([["1155448935",[E.a._bg,b,w.a.__IMG_DPR__,E.a.bottom]]])+" t-24 l-34 t-void t-c mt-8"},"积分")))),o.a.createElement(v.a,{styleId:"1155448935",css:".style-625597.__jsx-style-dynamic-selector{position:relative;padding-bottom:96%;margin-top:-1rem;".concat(E.a._bg,";background-image:url('").concat(b,"/0").concat(w.a.__IMG_DPR__,".png');}.info.__jsx-style-dynamic-selector{position:absolute;right:0;bottom:0;left:0;height:2.8rem;padding:0.36rem 0.8rem ").concat(E.a.bottom,";background-image:linear-gradient( 180deg, rgba(0,0,0,0), rgba(0,0,0,0.8) );}"),dynamic:[E.a._bg,b,w.a.__IMG_DPR__,E.a.bottom]}))};j.contextTypes={$:i.a.object};var I=Object(l.d)(j),T=a(29);function S(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var O=function(e,t){var a,n=t.$.getState("_affixTabs").page,r={};switch(p[n].title){case"帖子":r={title:e.title,desc:e.content,createTime:e.createTime,likeCount:e.likeAdd,commentCount:e.replyNum,imgs:e.contentImg,href:"/bbs/article?id=".concat(e.threadId),as:"/bbs/article/".concat(e.threadId)};break;case"视频":r={title:e.tit,desc:e.introCon,createTime:e.createTime,likeCount:e.likeCount,commentCount:e.recomNo,video:{filePath:e.fileinfo.path,sfPath:e.fileinfo.surface,fileSize:e.fileinfo.size,playSeconds:e.fileinfo.play_time},href:"/video/detail?id=".concat(e.tbId),as:"/video/detail/".concat(e.tbId)};break;default:switch(a=s.a.getLabel(T.d,e.infoType),r={title:e.con,createTime:e.publishTime,likeCount:e.likeCount,commentCount:e.commentCount,href:"/discovery/detail?id=".concat(e.infoId),as:"/discovery/detail/".concat(e.infoId)},a){case"视频":r.video=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){S(e,t,a[t])})}return e}({},e.fileList[0]);break;case"图文":r.imgs=e.fileList.map(function(e){return e.fileId});break;case"金币红包":case"积分红包":case"现金红包":r.title=a,r.imgs=["".concat(f,"/red-user-none.png")]}}return o.a.createElement(c.u,r)};O.contextTypes={$:i.a.object};var P=Object(l.d)(O),k=function(e,t){var a,n,r=t.$,i=r.getState("_affixTabs").page,l=r.getState("discovery"),c=r.getState("bbs"),s=r.getState("video");switch(p[i].title){case"帖子":a=c,n=r.fetch.bbs;break;case"视频":a=s,n=r.fetch.video;break;default:a=l,n=r.fetch.discovery}return o.a.createElement(u.a,{tabs:p,page:i,onTabClick:r.page.onTabClick},o.a.createElement(u.v,{className:"tool-list-split",data:a,renderRow:function(e){return o.a.createElement(P,e)},onEndReached:n}))};k.contextTypes={$:i.a.object};var x,z,C=Object(l.d)(k),N=a(9),M=a.n(N),R=a(11),G=a(12),D=a(15);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t,a,n,o,r,i){try{var l=e[r](i),c=l.value}catch(e){return void a(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var q,X,B,F,H,K,Q,U,V,W=(x=function(e){function t(){var e,a,n,o,r,i,l,c,u,b;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var f=arguments.length,d=new Array(f),m=0;m<f;m++)d[m]=arguments[m];return n=this,o=(e=A(t)).call.apply(e,[this].concat(d)),a=!o||"object"!==L(o)&&"function"!=typeof o?J(n):o,r=a,i="state",l=z,c=J(J(a)),l&&Object.defineProperty(r,i,{enumerable:l.enumerable,configurable:l.configurable,writable:l.writable,value:l.initializer?l.initializer.call(c):void 0}),a.fetch={config:{one:["person","discovery"]},person:function(){var e=a.params.params.id;return a.fetchThenSetState("get_person_info-more","person",{userId:e})},discovery:function(e){var t=a.params.params.id;return a.fetchListThenSetState("get_person_discovery_list","discovery",{_:{limit:w.a.__LIMIT__,search:{userId:t}}},e)},bbs:function(e){var t=a.params.params.id;return a.fetchListThenSetState("get_bbs_list","bbs",{_:{limit:w.a.__LIMIT__,search:{userId:t}}},e)},video:function(e){var t=a.params.params.id;return a.fetchListThenSetState("get_video_list-list","video",{_:{limit:w.a.__LIMIT__,order:{createTime:"desc"},search:{userId:t}}},e)}},a.do={follow:(u=M.a.mark(function e(){var t,n;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.getState("person"),n=t.userId,e.next=3,D.a.P("do_add_follow",{concernId:n});case 3:s.a.light("关注成功"),a.fetch.person();case 5:case"end":return e.stop()}},e,this)}),b=function(){var e=this,t=arguments;return new Promise(function(a,n){var o=u.apply(e,t);function r(e){$(o,a,n,r,i,"next",e)}function i(e){$(o,a,n,r,i,"throw",e)}r(void 0)})},function(){return b.apply(this,arguments)})},a.page={onTabClick:function(e,t){(a.setState({page:t},"_affixTabs"),"帖子"===p[t].title)&&(a.getState("bbs")._loaded||a.fetch.bbs());"视频"===p[t].title&&(a.getState("video")._loaded||a.fetch.video());s.a.scrollTo(0)}},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,G["a"]),t}(),q=x.prototype,X="state",B=[R.k],F={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.initState({_affixTabs:{page:0},person:{},discovery:w.a.__EMPTY__,bbs:w.a.__EMPTY__,video:w.a.__EMPTY__})}},K={},Object.keys(F).forEach(function(e){K[e]=F[e]}),K.enumerable=!!K.enumerable,K.configurable=!!K.configurable,("value"in K||K.initializer)&&(K.writable=!0),K=B.slice().reverse().reduce(function(e,t){return t(q,X,e)||e},K),H&&void 0!==K.initializer&&(K.value=K.initializer?K.initializer.call(H):void 0,K.initializer=void 0),void 0===K.initializer&&(Object.defineProperty(q,X,K),K=null),z=K,x);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function te(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oe=Object(l.c)(W)(Q=Object(l.d)((V=U=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),te(this,ae(t).apply(this,arguments))}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,o.a.Component),a=t,(n=[{key:"render",value:function(){return o.a.createElement(c.k,{title:"空间",header:o.a.createElement(y,null)},o.a.createElement(I,null),o.a.createElement(C,null))}}])&&ee(a.prototype,n),r&&ee(a,r),t}(),U.contextTypes={$:i.a.object},Q=V))||Q)||Q;t.default=oe}},[[917,1,0]]]);