(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{178:function(e,t,a){"use strict";var r=a(2),n=a.n(r),o=a(1),i=a.n(o),c=a(6),s=a.n(c),l=a(5),d=a(3),u=a(10),m=a(7),b=a(4),f=a(0),p=a(8),_=a.n(p),y="style-122495",h=function(e,t){var a,r=t.$,o=e.tbId,c=e.prizeName,s=e.prizeVal,l=e.imgId,u=e.prizeType,m=e.expdatebegin,p=e.expdateend,h=e.isGet;switch(parseInt(u)){case 1:a="实物券";break;case 2:a="现金券"}return i.a.createElement("div",{className:n.a.dynamic([["3060005956",[y,f.a.border]],["1388826155",[f.a.wind,f.a.color_border,f.a.radius_sm,f.a.color_border]]])+" "+y},i.a.createElement(d.u.Item,{className:_()(y),thumb:i.a.createElement(d.q,{className:"".concat(y,"__thumb"),src:l,size:"1.5rem",lazyload:!0}),onClick:function(){return h?b.a.light("您已经领取了"):r.do.doGet(o)}},i.a.createElement("div",{className:n.a.dynamic([["3060005956",[y,f.a.border]],["1388826155",[f.a.wind,f.a.color_border,f.a.radius_sm,f.a.color_border]]])+" row-box"},i.a.createElement("div",{className:n.a.dynamic([["3060005956",[y,f.a.border]],["1388826155",[f.a.wind,f.a.color_border,f.a.radius_sm,f.a.color_border]]])+" row-center"},i.a.createElement("p",{className:n.a.dynamic([["3060005956",[y,f.a.border]],["1388826155",[f.a.wind,f.a.color_border,f.a.radius_sm,f.a.color_border]]])+" t-30 l-42 name"},a,"(",c,")"),i.a.createElement("p",{className:n.a.dynamic([["3060005956",[y,f.a.border]],["1388826155",[f.a.wind,f.a.color_border,f.a.radius_sm,f.a.color_border]]])},i.a.createElement("span",{className:n.a.dynamic([["3060005956",[y,f.a.border]],["1388826155",[f.a.wind,f.a.color_border,f.a.radius_sm,f.a.color_border]]])+" t-44 l-44 t-danger mr-xs"},s),i.a.createElement("span",{className:n.a.dynamic([["3060005956",[y,f.a.border]],["1388826155",[f.a.wind,f.a.color_border,f.a.radius_sm,f.a.color_border]]])+" t-24 l-44 t-sub"},"元")),i.a.createElement("p",{className:n.a.dynamic([["3060005956",[y,f.a.border]],["1388826155",[f.a.wind,f.a.color_border,f.a.radius_sm,f.a.color_border]]])+" time t-20 l-32 t-primary"},i.a.createElement("span",{className:n.a.dynamic([["3060005956",[y,f.a.border]],["1388826155",[f.a.wind,f.a.color_border,f.a.radius_sm,f.a.color_border]]])},"购买时间："),i.a.createElement("span",{className:n.a.dynamic([["3060005956",[y,f.a.border]],["1388826155",[f.a.wind,f.a.color_border,f.a.radius_sm,f.a.color_border]]])},b.a.date("m.d H:i",m)),i.a.createElement("span",{className:n.a.dynamic([["3060005956",[y,f.a.border]],["1388826155",[f.a.wind,f.a.color_border,f.a.radius_sm,f.a.color_border]]])}," - "),i.a.createElement("span",{className:n.a.dynamic([["3060005956",[y,f.a.border]],["1388826155",[f.a.wind,f.a.color_border,f.a.radius_sm,f.a.color_border]]])},b.a.date("m.d H:i",p)))),i.a.createElement("div",{className:n.a.dynamic([["3060005956",[y,f.a.border]],["1388826155",[f.a.wind,f.a.color_border,f.a.radius_sm,f.a.color_border]]])+" t-22 l-32 t-sub row-right"},h?i.a.createElement("p",{className:n.a.dynamic([["3060005956",[y,f.a.border]],["1388826155",[f.a.wind,f.a.color_border,f.a.radius_sm,f.a.color_border]]])+" t-24 l-32 t-sub btn"},"已经领取"):i.a.createElement("p",{onClick:function(){return r.page.toManager(o,!0)},className:n.a.dynamic([["3060005956",[y,f.a.border]],["1388826155",[f.a.wind,f.a.color_border,f.a.radius_sm,f.a.color_border]]])+" t-24 l-32 t-primary btn"},"立即领取")))),i.a.createElement(n.a,{styleId:"3060005956",css:".".concat(y,"__thumb{border:").concat(f.a.border,";}.style-122495 .am-list-item{padding-left:0 !important;}.style-122495 .am-list-item .am-list-line{padding-right:0 !important;}"),dynamic:[y,f.a.border]}),i.a.createElement(n.a,{styleId:"1388826155",css:".style-122495.__jsx-style-dynamic-selector{margin:".concat(f.a.wind,";border:1px solid ").concat(f.a.color_border,";border-radius:").concat(f.a.radius_sm,";overflow:hidden;}.row-box.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;text-align:center;}.row-center.__jsx-style-dynamic-selector{-webkit-flex:7;-ms-flex:7;flex:7;padding-right:0.12rem;border-right:1px dashed ").concat(f.a.color_border,";text-align:left;}.row-right.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}.btn.__jsx-style-dynamic-selector{width:1em;margin-left:0.5em;}"),dynamic:[f.a.wind,f.a.color_border,f.a.radius_sm,f.a.color_border]}))};h.contextTypes={$:s.a.object};var w=Object(l.d)(h);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var v,x,E=Object(l.d)(function(e){var t=e.data,a=void 0===t?{}:t,r=e.onEndReached,n=e.className,o=a.nowTime;return i.a.createElement(d.v,{className:_()("style-263036",n),data:a,renderRow:function(e){return i.a.createElement(w,g({nowTime:o},e))},onEndReached:r})}),k=a(9),j=a.n(k),S=a(11),O=a(12),I=a(15),N=a(13);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function L(e,t,a,r,n,o,i){try{var c=e[o](i),s=c.value}catch(e){return void a(e)}c.done?t(s):Promise.resolve(s).then(r,n)}function z(e){return function(){var t=this,a=arguments;return new Promise(function(r,n){var o=e.apply(t,a);function i(e){L(o,r,n,i,c,"next",e)}function c(e){L(o,r,n,i,c,"throw",e)}i(void 0)})}}function M(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var A,$,J,H,Y,q,D=(v=function(e){function t(){var e,a,r,n,o,i,c,s,l,d,u,f;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var p=arguments.length,_=new Array(p),y=0;y<p;y++)_[y]=arguments[y];return r=this,n=(e=G(t)).call.apply(e,[this].concat(_)),a=!n||"object"!==T(n)&&"function"!=typeof n?R(r):n,o=a,i="state",c=x,s=R(R(a)),c&&Object.defineProperty(o,i,{enumerable:c.enumerable,configurable:c.configurable,writable:c.writable,value:c.initializer?c.initializer.call(s):void 0}),a.fetch={config:{static:[["userInfo","userInfo"]],update:["fetchLotteryList","fetchvipLotteryList"]},userInfo:(u=z(j.a.mark(function e(){var t;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=N.a.fetchUserInfo(),e.t0=a,e.next=4,t;case 4:return e.t1=e.sent,e.t0.setState.call(e.t0,e.t1,"userInfo"),e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)}),fetchLotteryList:(d=z(j.a.mark(function e(){var t,r;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=I.a.PP("get_lottery_list",{lotteryType:2,_:{limit:m.a.__LIMIT__}}),e.next=3,t;case 3:if(0===(r=e.sent).code){e.next=7;break}return b.a.light(r.err),e.abrupt("return",!1);case 7:return a.setState(r.data,"lotteryList"),e.abrupt("return",t);case 9:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)}),fetchvipLotteryList:(l=z(j.a.mark(function e(){var t,r;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=I.a.PP("get_lottery_list",{lotteryType:5,_:{limit:m.a.__LIMIT__}}),e.next=3,t;case 3:if(0===(r=e.sent).code){e.next=7;break}return b.a.light(r.err),e.abrupt("return",!1);case 7:return a.setState(r.data,"viplotteryList"),e.abrupt("return",t);case 9:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)}),time:function(){return a.fetchThenSetState("get_time","time")}},a.do={doGet:(f=z(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.PP("do_lottery_get-coupon",{cid:t});case 2:a.fetch.fetchLotteryList(),a.page.showModal({title:"领取成功",text:"领取现金券成功！"});case 4:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},a.page={onTabClick:function(e,t){a.setState({page:t},"_affixTabs"),b.a.scrollTo(0)},showModal:function(e){a.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(t){P(e,t,a[t])})}return e}({},e,{show:!0}))},hideModal:function(){a.setState({show:!1})}},a}var a,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,O["a"]),a=t,(r=[{key:"storeInit",value:function(){var e=this.params.params.id;1==e&&this.setState({page:e},"_affixTabs")}}])&&M(a.prototype,r),n&&M(a,n),t}(),A=v.prototype,$="state",J=[S.k],H={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.initState({_affixTabs:{page:0},state:{show:!1,title:"",text:"",_filter:!0},userInfo:N.a.toJS("userInfo"),lotteryList:m.a.__EMPTY__,viplotteryList:m.a.__EMPTY__})}},q={},Object.keys(H).forEach(function(e){q[e]=H[e]}),q.enumerable=!!q.enumerable,q.configurable=!!q.configurable,("value"in q||q.initializer)&&(q.writable=!0),q=J.slice().reverse().reduce(function(e,t){return t(A,$,e)||e},q),Y&&void 0!==q.initializer&&(q.value=q.initializer?q.initializer.call(Y):void 0,q.initializer=void 0),void 0===q.initializer&&(Object.defineProperty(A,$,q),q=null),x=q,v),U=b.a.cdn("/static/images/src/person/event/Coupon"),V=[{title:"领卷"},{title:"vip专属"}],X=function(e,t){var a=t.$,r=a.getState("_affixTabs").page,o=a.getState("lotteryList"),c=a.getState("viplotteryList");return i.a.createElement(u.k,{className:"style-210894",title:"现金福利",bd:null,ft:i.a.createElement(d.c,{type:"warning",size:"sm",ghost:!0,inline:!0,radius:!0,onClick:function(){return b.a.checkLogin(function(){b.a.router.push("/person/prize")})}},"进入我的礼单"),headerStyle:{color:f.a.color_theme,background:"transparent"}},i.a.createElement("div",{className:"jsx-950351834 "+n.a.dynamic([["72710360",[m.a.__IMAGES__,f.a.bottom,f.a.wind,f.a.color_theme]]])+" wrap-title t-c"},i.a.createElement("img",{src:"".concat(U,"/title.png"),alt:"",className:"jsx-950351834 "+n.a.dynamic([["72710360",[m.a.__IMAGES__,f.a.bottom,f.a.wind,f.a.color_theme]]])+" img-title"})),i.a.createElement("div",{className:"jsx-950351834 "+n.a.dynamic([["72710360",[m.a.__IMAGES__,f.a.bottom,f.a.wind,f.a.color_theme]]])+" wrap-list"},i.a.createElement(d.a,{tabs:V,align:"center",animated:!0,destroyInactiveTab:!1,page:r,onTabClick:a.page.onTabClick},i.a.createElement(E,{className:"mt-d",data:o,onEndReached:a.fetch.lotteryList}),i.a.createElement(E,{className:"mt-d",data:c,onEndReached:a.fetch.viplotteryList}))),i.a.createElement(n.a,{styleId:"950351834",css:".style-210894{min-height:100vh !important;background:linear-gradient( 90deg, rgba(235,83,83,1) 0%, rgba(235,85,83,1) 100% );}"}),i.a.createElement(n.a,{styleId:"72710360",css:".wrap-title.__jsx-style-dynamic-selector{padding:0.4rem 0 0.64rem;background-repeat:no-repeat;background-image:url(".concat(m.a.__IMAGES__,"/bg-block.png);}.img-title.__jsx-style-dynamic-selector{width:4.28rem;height:0.6rem;}.wrap-list.__jsx-style-dynamic-selector{padding-bottom:").concat(f.a.bottom,";margin:0 ").concat(f.a.wind,";background:").concat(f.a.color_theme,";border-radius:0.16rem;box-shadow:0 0.12rem 0.16rem 0 rgba(121,19,19,0.5);overflow:hidden;}"),dynamic:[m.a.__IMAGES__,f.a.bottom,f.a.wind,f.a.color_theme]}))};X.contextTypes={$:s.a.object};t.a=Object(l.c)(D)(Object(l.d)(X))},860:function(e,t,a){__NEXT_REGISTER_PAGE("/person/event/coupon",function(){return e.exports=a(861),{page:e.exports.default}})},861:function(e,t,a){"use strict";a.r(t);var r=a(178);t.default=r.a}},[[860,1,0]]]);