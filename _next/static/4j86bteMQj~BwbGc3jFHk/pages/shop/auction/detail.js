(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{1050:function(e,t,a){"use strict";a.r(t);var n=a(21),r=a.n(n),o=a(16),i=a.n(o),c=a(18),l=a.n(c),s=a(19),u=a.n(s),m=a(17),p=a.n(m),d=a(20),f=a.n(d),h=a(1),b=a.n(h),y=a(8),g=a.n(y);function v(){}var _=200,w=600,E=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,N=function(e){function t(e){l()(this,t);var a=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.onChange=function(e){var t=a.props,n=t.parser,r=t.onChange,o=n&&n(a.getValueFromEvent(e).trim());a.setState({inputValue:o}),r&&r(a.toNumberWhenUserInput(o))},a.onFocus=function(){a.setState({focused:!0});var e=a.props.onFocus;e&&e.apply(void 0,arguments)},a.onBlur=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.setState({focused:!1});var o=a.getCurrentValidValue(a.state.inputValue);e.persist(),a.setValue(o,function(){var t=a.props.onBlur;t&&t.apply(void 0,[e].concat(n))})},a.getCurrentValidValue=function(e){var t=e;return t=""===t?"":a.isNotCompleteNumber(t)?a.state.value:a.getValidValue(t),a.toNumber(t)},a.getValidValue=function(e){var t=parseFloat(e);return isNaN(t)?e:(t<a.props.min&&(t=a.props.min),t>a.props.max&&(t=a.props.max),t)},a.setValue=function(e,t){var n=a.isNotCompleteNumber(parseFloat(e))?void 0:parseFloat(e),r=n!==a.state.value||""+n!=""+a.state.inputValue;if("value"in a.props?a.setState({inputValue:a.toPrecisionAsStep(a.state.value)},t):a.setState({value:n,inputValue:a.toPrecisionAsStep(e)},t),r){var o=a.props.onChange;o&&o(n)}},a.getPrecision=function(e){if("precision"in a.props)return a.props.precision;var t=e.toString();if(t.indexOf("e-")>=0)return parseInt(t.slice(t.indexOf("e-")+2),10);var n=0;return t.indexOf(".")>=0&&(n=t.length-t.indexOf(".")-1),n},a.getMaxPrecision=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if("precision"in a.props)return a.props.precision;var n=a.props.step,r=a.getPrecision(t),o=a.getPrecision(n),i=a.getPrecision(e);return e?Math.max(i,r+o):r+o},a.getPrecisionFactor=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=a.getMaxPrecision(e,t);return Math.pow(10,n)},a.toPrecisionAsStep=function(e){if(a.isNotCompleteNumber(e)||""===e)return e;var t=Math.abs(a.getMaxPrecision(e));return isNaN(t)?e.toString():Number(e).toFixed(t)},a.isNotCompleteNumber=function(e){return isNaN(e)||""===e||null===e||e&&e.toString().indexOf(".")===e.toString().length-1},a.toNumber=function(e){return a.isNotCompleteNumber(e)?e:"precision"in a.props?Number(Number(e).toFixed(a.props.precision)):Number(e)},a.toNumberWhenUserInput=function(e){return(/\.\d*0$/.test(e)||e.length>16)&&a.state.focused?e:a.toNumber(e)},a.stepCompute=function(e,t,n){var r=a.props,o=r.step,i=r.min,c=a.getPrecisionFactor(t,n),l=Math.abs(a.getMaxPrecision(t,n)),s=void 0,u="up"===e?1:-1;return s="number"==typeof t?((c*t+u*c*+o*n)/c).toFixed(l):i===-1/0?u*+o:i,a.toNumber(s)},a.step=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t&&t.preventDefault();var r=a.props;if(r.disabled)return!1;var o=a.getCurrentValidValue(a.state.inputValue)||0;if(a.isNotCompleteNumber(o))return!1;var i=a.stepCompute(e,o,n),c=i>r.max||i<r.min;return i>r.max?i=r.max:i<r.min&&(i=r.min),a.setValue(i),a.setState({focused:!0}),!c},a.stop=function(){a.autoStepTimer&&clearTimeout(a.autoStepTimer)},a.action=function(e,t,n,r){t.persist&&t.persist(),a.stop(),a.step(e,t,n)&&(a.autoStepTimer=setTimeout(function(){a.action(e,t,n,!0)},r?_:w))},a.down=function(e,t,n){a.action("down",e,t,n)},a.up=function(e,t,n){a.action("up",e,t,n)};var n=void 0;return n="value"in e?e.value:e.defaultValue,n=a.toNumber(n),a.state={inputValue:a.toPrecisionAsStep(n),value:n,focused:e.autoFocus},a}return f()(t,e),u()(t,[{key:"componentWillReceiveProps",value:function(e){if("value"in e){var t=this.state.focused?e.value:this.getValidValue(e.value);this.setState({value:t,inputValue:t})}}},{key:"componentWillUnmount",value:function(){this.stop()}}]),t}(b.a.Component),x=N;N.defaultProps={max:E,min:-E,step:1,style:{},onChange:v,onFocus:v,onBlur:v,parser:function(e){return e.replace(/[^\w\.-]+/g,"")}};var S=a(78),O=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&(a[n[r]]=e[n[r]])}return a},P=function(e){function t(){return l()(this,t),p()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,a=e.disabled,n=O(e,["prefixCls","disabled"]);return b.a.createElement(S.default,{disabled:a,activeClassName:t+"-handler-active"},b.a.createElement("span",n))}}]),t}(h.Component);function C(){}function I(e){e.preventDefault()}var k=function(e){function t(){l()(this,t);var e=p()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.setInput=function(t){e.input=t},e}return f()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentWillUpdate",value:function(){try{this.start=this.input.selectionStart,this.end=this.input.selectionEnd}catch(e){}}},{key:"componentDidUpdate",value:function(){if(this.props.focusOnUpDown&&this.state.focused){var e=this.input.setSelectionRange;e&&"function"==typeof e&&void 0!==this.start&&void 0!==this.end&&this.start!==this.end?this.input.setSelectionRange(this.start,this.end):this.focus()}}},{key:"getRatio",value:function(e){var t=1;return e.metaKey||e.ctrlKey?t=.1:e.shiftKey&&(t=10),t}},{key:"getValueFromEvent",value:function(e){return e.target.value}},{key:"focus",value:function(){this.input.focus()}},{key:"formatWrapper",value:function(e){return this.props.formatter?this.props.formatter(e):e}},{key:"render",value:function(){var e,t=i()({},this.props),a=t.prefixCls,n=void 0===a?"":a,o=t.disabled,c=t.readOnly,l=t.max,s=t.min,u=g()((e={},r()(e,n,!0),r()(e,t.className,!!t.className),r()(e,n+"-disabled",o),r()(e,n+"-focused",this.state.focused),e)),m="",p="",d=this.state.value;if(d||0===d)if(isNaN(d))m=n+"-handler-up-disabled",p=n+"-handler-down-disabled";else{var f=Number(d);f>=l&&(m=n+"-handler-up-disabled"),f<=s&&(p=n+"-handler-down-disabled")}var h=!t.readOnly&&!t.disabled,y=void 0;null==(y=this.state.focused?this.state.inputValue:this.toPrecisionAsStep(this.state.value))&&(y="");var v,_;v={onTouchStart:h&&!m?this.up:C,onTouchEnd:this.stop},_={onTouchStart:h&&!p?this.down:C,onTouchEnd:this.stop};var w=this.formatWrapper(y),E=!!m||o||c,N=!!p||o||c;return b.a.createElement("div",{className:u,style:t.style},b.a.createElement("div",{className:n+"-handler-wrap"},b.a.createElement(P,i()({disabled:E,prefixCls:n,unselectable:"unselectable"},v,{role:"button","aria-label":"Increase Value","aria-disabled":!!E,className:n+"-handler "+n+"-handler-up "+m}),this.props.upHandler||b.a.createElement("span",{unselectable:"unselectable",className:n+"-handler-up-inner",onClick:I})),b.a.createElement(P,i()({disabled:N,prefixCls:n,unselectable:"unselectable"},_,{role:"button","aria-label":"Decrease Value","aria-disabled":!!N,className:n+"-handler "+n+"-handler-down "+p}),this.props.downHandler||b.a.createElement("span",{unselectable:"unselectable",className:n+"-handler-down-inner",onClick:I}))),b.a.createElement("div",{className:n+"-input-wrap",role:"spinbutton","aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":d},b.a.createElement("input",{className:n+"-input",tabIndex:t.tabIndex,autoComplete:"off",onFocus:this.onFocus,onBlur:this.onBlur,autoFocus:t.autoFocus,readOnly:t.readOnly,disabled:t.disabled,max:t.max,min:t.min,step:t.step,onChange:this.onChange,ref:this.setInput,value:w})))}}]),t}(x);t.default=k;k.defaultProps=i()({},x.defaultProps,{focusOnUpDown:!1,useTouch:!1,prefixCls:"rmc-input-number"})},38:function(e,t,a){"use strict";var n=a(2),r=a.n(n),o=a(1),i=a.n(o),c=a(8),l=a.n(c),s=a(5),u=a(3),m=a(4),p=a(0);t.a=Object(s.d)(function(e){var t,a,n,o=e.tag,c=e.nowTime,s=e.beginTime,d=e.endTime,f=e.className;switch(o){case"预告中":t=s,a="倒数",n="main";break;case"进行中":t=d,a="剩余",n="primary";break;case"已结束":n="default"}return i.a.createElement("div",{className:r.a.dynamic([["1364954403",[p.a.color_inner]],["3293149964",[p.a.color_void,p.a.color_main,p.a.color_primary,p.a.color_sub]]])},"预告中"===o&&i.a.createElement(u.l,{className:l()("style-110292",f)},i.a.createElement("p",{className:r.a.dynamic([["1364954403",[p.a.color_inner]],["3293149964",[p.a.color_void,p.a.color_main,p.a.color_primary,p.a.color_sub]]])+" "+"tag tag-".concat(n)},"预告中"),i.a.createElement(u.l.Item,{className:"t-24 l-34"},m.a.date("m-d H:i:s",s)," 开始")),"进行中"===o&&i.a.createElement(u.l,{className:l()("style-110292",f,"t-sub")},i.a.createElement("p",{className:r.a.dynamic([["1364954403",[p.a.color_inner]],["3293149964",[p.a.color_void,p.a.color_main,p.a.color_primary,p.a.color_sub]]])+" "+"tag tag-".concat(n)},"进行中"),i.a.createElement(u.l.Item,null,i.a.createElement(u.f,{className:"t-24 l-34",theme:!1,left:a,now:Number(c),beginTime:Number(t)}))),"已结束"===o&&i.a.createElement("p",{className:r.a.dynamic([["1364954403",[p.a.color_inner]],["3293149964",[p.a.color_void,p.a.color_main,p.a.color_primary,p.a.color_sub]]])+" "+(l()("tag tag-".concat(n),f)||"")},"已结束"),i.a.createElement(r.a,{styleId:"1364954403",css:".style-110292{background:".concat(p.a.color_inner,";}"),dynamic:[p.a.color_inner]}),i.a.createElement(r.a,{styleId:"3293149964",css:".tag.__jsx-style-dynamic-selector{display:inline-block;width:0.96rem;height:0.56rem;font-size:0.24rem;line-height:0.56rem;text-align:center;color:".concat(p.a.color_void,";}.tag-main.__jsx-style-dynamic-selector{background:").concat(p.a.color_main,";}.tag-primary.__jsx-style-dynamic-selector{background:").concat(p.a.color_primary,";}.tag-default.__jsx-style-dynamic-selector{background:").concat(p.a.color_sub,";}"),dynamic:[p.a.color_void,p.a.color_main,p.a.color_primary,p.a.color_sub]}))})},430:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(16)),r=d(a(21)),o=d(a(18)),i=d(a(19)),c=d(a(17)),l=d(a(20)),s=d(a(8)),u=d(a(1)),m=d(a(1050)),p=d(a(143));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&(a[n[r]]=e[n[r]])}return a},h=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.className,o=t.showNumber,i=f(t,["className","showNumber"]),c=(0,s.default)(a,(0,r.default)({},"showNumber",!!o));return u.default.createElement(m.default,(0,n.default)({upHandler:u.default.createElement(p.default,{type:"plus",size:"xxs"}),downHandler:u.default.createElement(p.default,{type:"minus",size:"xxs"})},i,{ref:function(t){return e.stepperRef=t},className:c}))}}]),t}(u.default.Component);t.default=h,h.defaultProps={prefixCls:"am-stepper",step:1,readOnly:!1,showNumber:!1,focusOnUpDown:!1},e.exports=t.default},47:function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"e",function(){return r}),a.d(t,"d",function(){return o}),a.d(t,"b",function(){return i}),a.d(t,"a",function(){return c});var n=a(4).a.cdn("/static/images/src/shop/auction/Index"),r=[{title:"金币"},{title:"积分"}],o=[{label:"预告中",value:"1"},{label:"进行中",value:"2"},{label:"已结束",value:"3"}],i=[{label:"金币",value:"1"},{label:"积分",value:"2"}],c=[{label:"本汀积分",value:"1"},{label:"灵动积分",value:"2"}]},927:function(e,t,a){__NEXT_REGISTER_PAGE("/shop/auction/detail",function(){return e.exports=a(959),{page:e.exports.default}})},959:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(5),i=a(10),c=a(6),l=a.n(c),s=a(3),u=a(4),m=a(0),p=function(e,t){var a=t.$,n=a.getState("_imgView"),o=n.show,i=n.index,c=a.getState("detail").goodsImg,l=String(void 0===c?"":c).split(",").filter(function(e){return""!==e}).map(function(e){return u.a.getImgUrl(e)});return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.d,{data:l.map(function(e){return{src:e}}),height:"96vw",style:{backgroundColor:m.a.color_theme},onImgClick:a.page.showImgView}),!!l.length&&r.a.createElement(s.r,{show:o,data:l,current:i,hideOrigin:!0,onClose:a.page.hideImgView}))};p.contextTypes={$:l.a.object};var d=Object(o.d)(p),f=a(2),h=a.n(f),b=a(38),y=a(47),g=function(e,t){var a,n,o=t.$,i=o.getState().refreshing,c=o.getState("detail"),l=c.title,p=c.nowTime,d=c.beginTime,f=c.endTime,g=c.showState,v=c.auctionType,_=c.currentPrice,w=c.addPrice,E=c._loaded,N=u.a.getLabel(y.d,g);switch(N){case"预告中":a="起拍价";break;case"进行中":a="当前价";break;case"已结束":a="最终价",n=!0}var x=u.a.getLabel(y.b,v);return r.a.createElement("div",{className:h.a.dynamic([["3535931777",[m.a.wind,m.a.color_theme]]])+" style-414741"},E&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:h.a.dynamic([["3535931777",[m.a.wind,m.a.color_theme]]])+" t-34 l-48"},l),r.a.createElement(s.l,{className:"mt-24"},r.a.createElement(s.l.Item,null,r.a.createElement(b.a,{tag:N,nowTime:p,beginTime:d,endTime:f,onEnd:function(){return setTimeout(function(){o.fetch.detail(),o.fetch.record(!0)},1e3)}})),!n&&r.a.createElement(s.c,{className:"ml-sm",type:"primary",size:"sm",inline:!0,loading:i,disabled:i,onClick:o.fetch.refresh},i?"刷新中":"刷新信息")),r.a.createElement(s.l,{className:"t-22 l-32 t-sub mt-24"},r.a.createElement(s.l.Item,null,r.a.createElement("span",{className:h.a.dynamic([["3535931777",[m.a.wind,m.a.color_theme]]])},a),r.a.createElement("span",{className:h.a.dynamic([["3535931777",[m.a.wind,m.a.color_theme]]])+" t-44 l-32 t-danger ml-xs mr-xs"},_&&parseInt(_)),r.a.createElement("span",{className:h.a.dynamic([["3535931777",[m.a.wind,m.a.color_theme]]])},x)),w&&r.a.createElement("span",{className:h.a.dynamic([["3535931777",[m.a.wind,m.a.color_theme]]])},"加价幅度",parseInt(w)))),r.a.createElement(h.a,{styleId:"3535931777",css:".style-414741.__jsx-style-dynamic-selector{min-height:2.58rem;padding:0.32rem ".concat(m.a.wind,";background:").concat(m.a.color_theme,";}"),dynamic:[m.a.wind,m.a.color_theme]}))};g.contextTypes={$:l.a.object};var v=Object(o.d)(g),_=a(8),w=a.n(_),E=u.a.cdn("/static/images/src/shop/auction/Detail"),N=["第一次出价将支付全部出价，后续出价仅需要补足到出价金额既本次出价与历史出价总额的差价。","在时间完全结束时，出价最高者竞拍成功，获得竞拍物品；竞拍失败的用户在活动结束后金币全额返回到账户中","每次竞拍加价数量不得少于加价幅度","为了体现竞拍的公平性，使所有用户都用充分的时间拍下自己心仪的商品。若用户在结束时间倒计时最后1分钟内参与竞拍，竞拍结束时间将顺延一分钟让其他竞拍者有时间决定是否出价","本活动最终解释权归本汀所有"],x=function(e){var t=e.className;return r.a.createElement(i.q,{className:w()("style-179877",t),title:"竞拍规则",data:N})},S=function(e,t){var a=t.$,n=e.className,o=a.getState("detail"),c=o.ownUser,l=void 0===c?{}:c,p=o.auctionType,d=l.userId,f=l.faceImg,b=l.auctionPriceTotal,g=l.num,v=l.niname;if(!d)return null;var _=u.a.getLabel(y.b,p);return r.a.createElement(s.l,{className:w()("style-156266",n)},r.a.createElement(i.c,{userId:d,img:f}),r.a.createElement(s.l.Item,{style:{marginLeft:"0.24rem"}},r.a.createElement("p",{className:h.a.dynamic([["2311015719",[m.a.wind,m.a.color_theme]],["2046073563",[m.a.wind]]])+" t-30 l-44"},v),r.a.createElement("p",{className:h.a.dynamic([["2311015719",[m.a.wind,m.a.color_theme]],["2046073563",[m.a.wind]]])+" t-24 l-36 t-sub"},"共出价 ",g," 次")),r.a.createElement("p",{className:h.a.dynamic([["2311015719",[m.a.wind,m.a.color_theme]],["2046073563",[m.a.wind]]])+" t-28 l-40 t-sub"},r.a.createElement("span",{className:h.a.dynamic([["2311015719",[m.a.wind,m.a.color_theme]],["2046073563",[m.a.wind]]])},"成交价："),r.a.createElement("span",{className:h.a.dynamic([["2311015719",[m.a.wind,m.a.color_theme]],["2046073563",[m.a.wind]]])+" t-40 l-56 t-danger"},parseInt(b)),r.a.createElement("span",{className:h.a.dynamic([["2311015719",[m.a.wind,m.a.color_theme]],["2046073563",[m.a.wind]]])},_)),r.a.createElement("img",{src:"".concat(E,"/pai.png"),alt:"",className:h.a.dynamic([["2311015719",[m.a.wind,m.a.color_theme]],["2046073563",[m.a.wind]]])+" img-pai"}),r.a.createElement(h.a,{styleId:"2311015719",css:".style-156266{position:relative;padding:0.4rem ".concat(m.a.wind,";background:").concat(m.a.color_theme,";}"),dynamic:[m.a.wind,m.a.color_theme]}),r.a.createElement(h.a,{styleId:"2046073563",css:".img-pai.__jsx-style-dynamic-selector{position:absolute;top:50%;right:".concat(m.a.wind,";width:1rem;height:1rem;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);opacity:0.24;}"),dynamic:[m.a.wind]}))};S.contextTypes={$:l.a.object};var O=Object(o.d)(S),P=Object(o.d)(function(e){var t=e.userId,a=e.faceImg,n=e.niname,o=e.auctionTime,c=e.auctionPriceTotal,l=e.type;return r.a.createElement(s.u.Item,{thumb:r.a.createElement(i.c,{userId:t,img:a})},r.a.createElement(s.l,null,r.a.createElement(s.l.Item,null,r.a.createElement("p",{className:"t-30 l-44"},n),r.a.createElement("p",{className:"t-24 l-36 t-sub"},u.a.date("m-d H:i:s",o))),r.a.createElement("p",null,r.a.createElement("span",{className:"t-30 l-44 t-danger"},parseInt(c)),r.a.createElement("span",{className:"t-24 l-36 t-sub"},l))))});function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var I=function(e,t){var a=t.$,n=e.className,o=a.getState("detail").auctionType,c=a.getState("record"),l=u.a.getLabel(y.b,o);return r.a.createElement("div",{className:w()("style-108990",n)},r.a.createElement(i.i,{title:"出价记录",desc:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"当前已有"),r.a.createElement("span",{className:"t-danger"},c.pageinfo&&c.pageinfo.recordtotal||0),r.a.createElement("span",null,"次出价")),isList:!0}),r.a.createElement(s.v,{data:c,renderRow:function(e){return r.a.createElement(P,C({type:l},e))},onEndReached:a.fetch.record}))};I.contextTypes={$:l.a.object};var k=Object(o.d)(I),j=a(430),T=a.n(j),V=a(7),F=function(e,t){var a=t.$,n=a.getState("_payConfirm").amount,o=a.getState("detail"),i=o.showState,c=void 0===i?1:i,l=o.addPrice,p=void 0===l?10:l,d=o.currentPrice,f=void 0===d?0:d;if(!o._loaded)return null;var b=u.a.getLabel(y.d,c);if("预告中"===b)return r.a.createElement("div",{className:h.a.dynamic([["117212937",[m.a.wind,m.a.color_theme,m.a.border]]])+" style-265145"},r.a.createElement(s.c,{disabled:!0},"未开始"),r.a.createElement(h.a,{styleId:"117212937",css:".style-265145{position:fixed;z-index:2;right:0;bottom:0;left:0;padding:0.24rem ".concat(m.a.wind,";margin-bottom:-0.01rem;background:").concat(m.a.color_theme,";border-top:").concat(m.a.border,";box-shadow:0 0.08rem 0.16rem 0 rgba(0,0,0,0.48);}"),dynamic:[m.a.wind,m.a.color_theme,m.a.border]}));if("竞拍中"===b){var g=parseInt(f)+parseInt(p);return r.a.createElement(s.l,{className:"style-265145"},r.a.createElement(s.l.Item,{className:"t-c"},r.a.createElement(T.a,{showNumber:!0,min:g,step:V.a.__IOS__?parseInt(p):parseInt(p)/2,value:n,onChange:a.page.onStepperChange})),r.a.createElement(s.l.Item,null,r.a.createElement(s.c,{type:"primary",onClick:function(){return u.a.checkLogin(a.page.checkAdd)}},"出价")),r.a.createElement(h.a,{styleId:"117212937",css:".style-265145{position:fixed;z-index:2;right:0;bottom:0;left:0;padding:0.24rem ".concat(m.a.wind,";margin-bottom:-0.01rem;background:").concat(m.a.color_theme,";border-top:").concat(m.a.border,";box-shadow:0 0.08rem 0.16rem 0 rgba(0,0,0,0.48);}"),dynamic:[m.a.wind,m.a.color_theme,m.a.border]}))}return null};F.contextTypes={$:l.a.object};var z,M,$,A=Object(o.d)(F);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function L(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var H,B,J=Object(o.d)(($=M=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),L(this,D(t).apply(this,arguments))}var a,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,r.a.Component),a=t,(n=[{key:"componentWillUnmount",value:function(){this.context.$.page.hidePayConfirm()}},{key:"render",value:function(){var e,t=this.context.$,a=t.getState("_payConfirm"),n=a.show,o=a.addPrice,i=t.getState("detail"),c=i.showState,l=i.auctionType,m=i.appType;return"竞拍中"!==u.a.getLabel(y.d,c)?null:(1==l?e="coin":2==l&&(1==m?e="bt":2==m&&(e="nido")),r.a.createElement(s.y,{type:e,show:n,amount:o,onClose:t.page.hidePayConfirm,onConfirm:t.do.auction}))}}])&&U(a.prototype,n),o&&U(a,o),t}(),M.contextTypes={$:l.a.object},z=$))||z,Y=a(9),G=a.n(Y),K=a(11),X=a(12),q=a(15),Q=a(13);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t,a,n,r,o,i){try{var c=e[o](i),l=c.value}catch(e){return void a(e)}c.done?t(l):Promise.resolve(l).then(n,r)}function te(e){return function(){var t=this,a=arguments;return new Promise(function(n,r){var o=e.apply(t,a);function i(e){ee(o,n,r,i,c,"next",e)}function c(e){ee(o,n,r,i,c,"throw",e)}i(void 0)})}}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var oe,ie,ce,le,se,ue,me=(H=function(e){function t(){var e,a,n,r,o,i,c,l,s,m,p,d;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var f=arguments.length,h=new Array(f),b=0;b<f;b++)h[b]=arguments[b];return n=this,r=(e=ae(t)).call.apply(e,[this].concat(h)),a=!r||"object"!==Z(r)&&"function"!=typeof r?re(n):r,o=a,i="state",c=B,l=re(re(a)),c&&Object.defineProperty(o,i,{enumerable:c.enumerable,configurable:c.configurable,writable:c.writable,value:c.initializer?c.initializer.call(l):void 0}),a.fetch={config:{update:["detail","record"]},detail:(m=te(G.a.mark(function e(){var t,n,r,o,i,c;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.params.params.id,n=a.fetchThenSetState("get_auction_detail","detail",{auctionId:t}),e.next=4,n;case 4:return r=e.sent,o=r.currentPrice,i=r.addPrice,c=parseInt(o)+parseInt(i),a.setState({amount:c},"_payConfirm"),e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)}),record:function(e){var t=a.params.params.id;return a.fetchListThenSetState("get_auction_record-list","record",{_:{limit:V.a.__LIMIT__,order:{auctionTime:"desc"},search:{auctionId:t}}},e)},refresh:(s=te(G.a.mark(function e(){var t,n,r;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.getState("detail"),n=t.currentPrice,a.setState({refreshing:!0}),e.next=4,a.fetch.detail();case 4:return r=e.sent,e.next=7,a.fetch.record(!0);case 7:setTimeout(function(){a.setState({refreshing:!1}),r.currentPrice!==n&&u.a.light("当前出价有变动")},1e3);case 8:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},a.do={auction:(p=te(G.a.mark(function e(){var t,n,r;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.params.params.id,n=a.getState("_payConfirm"),r=n.amount,e.next=4,q.a.P("do_auction",{auctionId:t,auctionPrice:r});case 4:a.page.hidePayConfirm(),a.fetch.detail(),a.fetch.record(!0),u.a.light("出价成功");case 8:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},a.page={showImgView:function(e){return a.setState({show:!0,index:e},"_imgView")},hideImgView:function(){return a.setState({show:!1},"_imgView")},showPayConfirm:function(){return a.setState({show:!0},"_payConfirm")},hidePayConfirm:function(){return a.setState({show:!1},"_payConfirm")},onStepperChange:function(e){return a.setState({amount:e},"_payConfirm")},checkAdd:(d=te(G.a.mark(function e(){var t,n,r,o;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.params.params.id,n=a.getState("_payConfirm"),r=n.amount,e.next=4,q.a.PP("get_auction_user-add",{auctionId:t,auctionPrice:r});case 4:o=e.sent,e.t0=parseInt(o.code),e.next=0===e.t0?8:1===e.t0?11:306===e.t0?13:17;break;case 8:return a.setState({addPrice:o.data.price},"_payConfirm"),a.page.showPayConfirm(),e.abrupt("break",21);case 11:return u.a.onConfirm("该操作需要登录，前往登录?",function(){Q.a.setJump(),u.a.router.push("/login")}),e.abrupt("break",21);case 13:return Q.a.clearState("tk",""),Q.a.setCache(),u.a.onConfirm("登录信息已过期，前往登录?",function(){Q.a.setJump(),u.a.router.push("/login")}),e.abrupt("break",21);case 17:return u.a.light("当前出价有变动"),a.fetch.detail(),a.fetch.record(!0),e.abrupt("break",21);case 21:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,X["a"]),t}(),oe=H.prototype,ie="state",ce=[K.k],le={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.initState({state:{refreshing:!1},_payConfirm:{show:!1,amount:0,addPrice:0},_imgView:{show:!1,index:0},detail:{},record:V.a.__EMPTY__})}},ue={},Object.keys(le).forEach(function(e){ue[e]=le[e]}),ue.enumerable=!!ue.enumerable,ue.configurable=!!ue.configurable,("value"in ue||ue.initializer)&&(ue.writable=!0),ue=ce.slice().reverse().reduce(function(e,t){return t(oe,ie,e)||e},ue),se&&void 0!==ue.initializer&&(ue.value=ue.initializer?ue.initializer.call(se):void 0,ue.initializer=void 0),void 0===ue.initializer&&(Object.defineProperty(oe,ie,ue),ue=null),B=ue,H),pe=Object(o.c)(me)(function(){return r.a.createElement(i.k,{title:"竞拍详情"},r.a.createElement(d,null),r.a.createElement(v,null),r.a.createElement(x,{className:"mt-d"}),r.a.createElement(O,{className:"mt-d"}),r.a.createElement(k,{className:"mt-d"}),r.a.createElement(A,null),r.a.createElement(J,null))});t.default=pe}},[[927,1,0]]]);